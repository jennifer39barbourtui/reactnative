 /**
 * Jeeliz Face Filter - https://github.com/jeeliz/jeelizFaceFilter
 *
 * Copyright 2018 Jeeliz ( https://jeeliz.com )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

window.JEEFACEFILTERAPIGEN=function(){function Cb(){var a=null,c=null,d=null,e=0;this.Bd=function(f){return a[f]};this.$d=function(f){var n=null;e=f.length;a=f.map(function(t,q){t=Object.assign({},t,{index:q,parent:this,Wa:n,Kd:q===e-1});return n=q=0===q?Ob.instance(t):Pb.instance(t)});c=a[0];d=a[e-1];a.forEach(function(t,q){0!==q&&t.Vd()})};this.J=function(f,n){var t=n;a.forEach(function(q){t=q.J(t,f)});return t};this.nc=function(){return c.A()};this.pc=function(){return d.Cd()};this.be=function(f){d.nd(f)};
this.mc=function(){return d.mc()};this.h=function(){a&&(a.forEach(function(f){f.h()}),d=c=a=null,e=0)}}var Na,Oa,Pa,Ya,Za,Qa,$a,ab,bb,jb,kb,lb,mb;function nb(a,c){var d=c%8;return a[(c-d)/8]>>7-d&1}function Qb(a){var c=JSON.parse(a);a=c.ne;var d=c.nf,e=c.n;var f="undefined"===typeof btoa?Buffer.from(c.data,"base64").toString("latin1"):atob(c.data);var n=f.length;c=new Uint8Array(n);for(var t=0;t<n;++t)c[t]=f.charCodeAt(t);f=new Float32Array(e);n=new Float32Array(d);t=a+d+1;for(var q=0;q<e;++q){for(var g=
t*q,w=0===nb(c,g)?1:-1,B=g+1,h=1,A=0,k=B+a-1;k>=B;--k)A+=h*nb(c,k),h*=2;B=A;g=g+1+a;h=n.length;A=0;for(k=g;k<g+h;++k)n[A]=nb(c,k,!0),++A;for(h=g=0;h<d;++h)g+=n[h]*Math.pow(2,-h-1);f[q]=0===g&&0===B?0:w*(1+g)*Math.pow(2,1+B-Math.pow(2,a-1))}return f}function ob(){return-1!==[da.play,da.pause].indexOf(ka)}function Rb(a){if(ka!==da.pause){var c=ka===da.play?N.Fa:K.Zc;cb=setTimeout(Db.bind(null,a),c)}}function pb(){if(ka===da.play)return!1;ka=da.play;T.timestamp=Date.now();Ra&&window.cancelAnimationFrame(Ra);
Db(0)}function Eb(){if(ka!==da.play)return!1;cb&&(clearTimeout(cb),cb=null);Ra&&(window.cancelAnimationFrame(Ra),Ra=null);ka=da.pause;return!0}function Fa(a,c,d,e,f){a=4*(3*c+a)+d;return e+(X.buffer[a]/255+X.buffer[a+12]/65025)*(f-e)}function qb(){b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1);va.X();U.reset();V.reset();y.M();y.$b();b.disable(b.DEPTH_TEST);b.disable(b.BLEND);U.Ha();y.Ba()}function Db(){if(ka!==da.pause){y.$b();U.reset();U.Ha();b.disable(b.DEPTH_TEST);b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,
!1);va.X();y.Ba();if(!x.vb)a:{if(x.ub){if(!x.element.needsUpdate)break a;x.$.oe(x.element.arrayBuffer);x.element.needsUpdate=!1}else{var a=x.element.currentTime,c=a-x.Xa;0>c&&(x.Xa=a);if(1E3*c<K.qe)break a;x.Xa+=c;x.$.refresh()}y.set("s50");x.aa.N();x.$.b(0);U.g(!1,!1)}if(G.L.length>T.F)G.L.splice(0,G.L.length-T.F);else for(;G.L.length<T.F;)G.L.push(0);if(1!==G.i)if(oa.every(rb)){for(var d=a=c=0;d<oa.length;++d)oa[d].detected>c&&(c=oa[d].detected,a=0);for(c=0;c<T.F;++c)G.L[c]=a}else{a=G.yc;c=0;for(d=
!1;c<T.F;++c){if(rb(oa[a]))if(d){do++a===G.i&&(a=0);while(rb(oa[a]))}else d=!0;G.L[c]=a++;a>=G.i&&(a=0)}G.yc=a}for(a=0;a<T.F;++a)G.ea=G.L[a],G.Ab=(.5+G.ea)/G.i,G.vc=G.L.lastIndexOf(G.ea)===a,y.set("s51"),c=oa[G.ea],y.v("u37",1+Sa.Fb*(Math.cos(c.ry)-1)),N.ma&&y.v("u36",c.rz),1!==G.i&&y.v("u35",G.Ab),Y.ya.N(),x.aa.b(0),X.Ca.b(1),U.g(!1,!1),Y.ya.b(0),Aa.J(!1,Y.ya);a=Date.now();T.va=a-T.timestamp;T.timestamp=a;-1!==Z.nDetectsPerLoop?T.F=Z.nDetectsPerLoop:(a=K.cb,T.Bc=T.yb/T.va,T.Cc=T.Bc*a+T.Cc*(1-a),
T.Ec=1E3/T.va,T.na=T.Ec*K.cb+T.na*(1-K.cb),T.na>K.ka[1]?(a=K.Ea[1],1<G.i&&(++a,c=oa.filter(Sb).length,a*=Math.max(1,c)),T.F=Math.min(T.F+1,a),T.na=(K.ka[0]+K.ka[1])/2):T.na<K.ka[0]&&(T.F=Math.max(T.F-1,K.Ea[0]),T.na=(K.ka[0]+K.ka[1])/2));va.I();b.viewport(0,0,3,2*G.i);y.set("s49");X.Ca.b(0);U.g(!1,!1);b.readPixels(0,0,3,2*G.i,b.RGBA,b.UNSIGNED_BYTE,X.buffer);for(a=0;a<G.i;++a)if(-1!==G.L.indexOf(a)){var e=a;c=Wa[e];var f=[e];d=oa[e];var n=sb[e],t=2*e;c.Ja=Fa(1,t,3,0,1);d.detected=qa.S(d.detected,
c.Ja,K.Wc);if(c.Ja<K.xb)N.ma&&(d.rz=0,d.ry=0);else{var q=X.Da;c.x=Fa(0,t,1,-1,1);c.y=Fa(0,t,2,-1,1);c.V=Fa(0,t,3,0,1);c.Db=Fa(1,t,0,-q[0],q[0]);c.Eb=Fa(1,t,1,-q[1],q[1]);c.za=Fa(1,t,2,-q[2],q[2]);for(q=0;q<X.T;++q)c.hc[q]=X.xa[q](Fa(2,t,q,0,1));f.kb=c.x-d.xRaw;f.lb=c.y-d.yRaw;f.jb=c.V-d.sRaw;f.gb=c.Db-d.rx;f.hb=c.Eb-d.ry;f.ib=N.ma?c.za:c.za-d.rz;f=(1-db.Ra(ta.translationFactorRange[0],ta.translationFactorRange[1],Math.sqrt(f.kb*f.kb+f.lb*f.lb+f.jb*f.jb)/T.va))*(1-db.Ra(ta.rotationFactorRange[0],ta.rotationFactorRange[1],
Math.sqrt(f.gb*f.gb+f.hb*f.hb+f.ib*f.ib)/T.va))*db.Ra(ta.qualityFactorRange[0],ta.qualityFactorRange[1],c.Ja);e=n[++tb[e]%n.length]=f;for(t=0;t<n.length;++t)e=Math.min(e,n[t]);e=Math.max(.5,e);f=Math.min(e,f);n=qa.S(ta.alphaRange[1],ta.alphaRange[0],Math.pow(f,K.Yc));d.xRaw=qa.S(d.xRaw,c.x,n);d.yRaw=qa.S(d.yRaw,c.y,n);d.sRaw=qa.S(d.sRaw,c.V,n);d.rx=qa.S(d.rx,c.Db,n);d.ry=qa.S(d.ry,c.Eb,n);d.rz=N.ma?d.rz+n*c.za:qa.S(d.rz,c.za,n);e=d.sRaw*Sa.fb*Math.sin(d.ry);f=Math.sin(d.rz)*e/Ta;d.x=d.xRaw+Math.cos(d.rz)*
e;d.y=d.yRaw+f;d.s=d.sRaw;n=Math.max(n,K.Xc);for(e=0;e<X.T;++e)d.expressions[e]=qa.S(d.expressions[e],c.hc[e],n);++c.Ua}}va.me();va.reset();V.reset();b.enable(b.DEPTH_TEST);N.Ia&&(1===G.i?N.Ia(oa[0]):N.Ia(oa));b.disable(b.BLEND);ka===da.play&&(Ra=window.requestAnimationFrame(Rb))}}function Fb(){x.aa||(x.aa=V.instance({isPot:!1,isLinear:!0,isFloat:!1,width:Y.O,height:Y.R}));Y.ya=V.instance({isPot:!0,isFloat:!1,width:Aa.nc()});for(var a=K.Nc,c=G.i,d=new Float32Array([0,Z.borderWidth,Z.borderHeight,
0,0,0,0,0,0,0,0,0]),e=new Float32Array(d.length*G.i),f=0,n;f<G.i;++f)for(n=0;n<d.length;++n)e[f*d.length+n]=d[n];X.Ca=Tb.instance({width:a,height:c,isFloat:!0,isPot:!1,array:e})}function Ub(){function a(c){for(var d=[],e=0;e<G.i;++e)d.push(JSON.parse(JSON.stringify(c)));return d}X.buffer=new Uint8Array(8*K.Nc*G.i);Wa=a({Ja:0,x:0,y:0,V:1,Db:0,Eb:0,za:0,hc:new Float32Array(X.T),Ua:0});oa=a({detected:0,x:0,y:0,s:1,xRaw:0,yRaw:0,sRaw:1,rx:0,ry:0,rz:0,expressions:new Float32Array(X.T)});a({kb:0,lb:0,jb:0,
gb:0,hb:0,ib:0})}function ub(){y.K("s51",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u33",value:1},{type:"2f",name:"u34",value:Y.o},{type:"1f",name:"u35",value:.5},{type:"1f",name:"u36",value:0}]);y.K("s52",[{type:"1i",name:"u38",value:0},{type:"1i",name:"u33",value:1},{type:"1f",name:"u41",value:K.ke},{type:"1f",name:"u42",value:K.Tc},{type:"1f",name:"u43",value:K.Sc},{type:"3f",name:"u40",value:[X.ia[0]*Y.o[0],X.ia[1]*Y.o[1],X.ia[2]]},{type:"1f",name:"u35",value:.5},{type:"1f",name:"u44",value:1},
{type:"1f",name:"u36",value:0}]);var a=[{type:"1i",name:"u38",value:0}];y.K("s53",a);y.K("s54",a);y.K("s49",[{type:"1i",name:"u33",value:0},{type:"1f",name:"u47",value:Y.o[0]},{type:"2f",name:"u46",value:[0,.5/G.i]}])}function vb(){var a=Aa.nc(),c=Y.O/a;Qa=Z.minScale*c;wb=Z.maxScale*c;$a=(1-2*Z.borderWidth)/Z.nStepsX;ab=(1-2*Z.borderHeight)/Z.nStepsY;bb=(wb-Qa)/Z.nStepsScale;jb=Z.borderWidth;kb=Z.borderHeight;lb=1-Z.borderWidth;mb=1-Z.borderHeight;Y.o[0]=a/Y.O;Y.o[1]=a/Y.R;Na=Z.borderWidth;Oa=Z.borderHeight;
Pa=Qa;Ya=Z.borderWidth;Za=Z.borderHeight;xb=Qa}function Vb(a){if(N.pa)Gb("string"===typeof N.pa?JSON.parse(N.pa):N.pa,a);else{var c=N.Lb;"JSON"!==c.toUpperCase().split(".").pop()&&(c+=K.save);Hb.get(c,function(d){d=JSON.parse(d);Gb(d,a)})}}function Gb(a,c){if(a.exportData){var d=a.exportData;d.thetaXYZfactor&&(X.Da=d.thetaXYZfactor);d.trackingDxysFactor&&(X.ia=d.trackingDxysFactor);"undefined"!==typeof d.nExpressions&&(X.T=d.nExpressions);Sa.Fb=.4;Sa.fb=.7;"undefined"!==typeof d.fgScaleXFactor&&(Sa.Fb=
d.fgScaleXFactor);"undefined"!==typeof d.fgDisplaceXFactor&&(Sa.fb=d.fgDisplaceXFactor)}X.T||(X.T=K.Dc);if(!X.xa)for(X.xa=[],d=0;d<X.T;++d)X.xa.push(K.ud);c(a)}function Wb(){if(Ua.G({eb:N.Y,width:Y.O,height:Y.R,debug:!1,Fc:function(){Ha("GLCONTEXT_LOST")},antialias:!0,premultipliedAlpha:!0}))return!0;Ha("GL_INCOMPATIBLE");return!1}function rb(a){return a.detected<=K.xb}function Sb(a){return a.detected>K.xb}function Ib(a,c,d,e){return d>a?Math.max(0,a+c/2-(d-e/2)):Math.max(0,d+e/2-(a-c/2))}function Xb(){return Wa.some(function(a,
c){if(c===G.ea)return!1;c=Wa[G.ea];if(c.Ua>a.Ua||3>a.Ua||Ib(c.x,c.V,a.x,a.V)<K.zc*c.V)return!1;var d=Y.O/Y.R;return Ib(c.y,c.V*d,a.y,a.V*d)>K.zc*c.V*d})}function Yb(){var a=G.ea;X.Ca.de(1);1!==G.i&&(b.viewport(0,0,3,G.i),y.set("s0"),y.Mc("u1",1),U.g(!1,!1),y.Mc("u1",0));b.viewport(0,a,1,1);y.set("s52");N.ma&&y.v("u36",oa[a].rz);1!==G.i&&y.v("u35",G.Ab);if(1<G.i){var c=Xb()?0:1;y.v("u44",c)}y.fe("u39",Ya,Za,xb);U.g(!1,!1);G.vc&&(b.viewport(1,a,1,1),y.set("s53"),U.g(!1,!1),b.viewport(2,a,1,1),y.set("s54"),
U.g(!1,!1));Pa+=bb;Pa>wb&&(Na+=$a,Pa=Qa,Na>lb&&(Na=jb,Oa+=ab,Oa>mb&&(Oa=kb)));Ya=Na+.5*(Math.random()-.5)*$a;Za=Oa+.5*(Math.random()-.5)*ab;xb=Pa+.5*(Math.random()-.5)*bb}function Jb(){x.$&&x.$.remove();x.ub=x.element.isFakeVideo?!0:!1;x.$=V.instance(Object.assign({isPot:!1,isFloat:!1},x.ub?{isFlipY:!1,array:x.element.arrayBuffer,width:x.element.videoWidth,height:x.element.videoHeight,isKeepArray:!0}:{D:x.element}))}function Ia(){y.K("s50",[{type:"1i",name:"u1",value:0},{type:"mat2",name:"u32",value:x.m}])}
function Ja(){x.C[0]=.5;x.C[1]=.5;var a=x.o[1]/x.o[0];Ta=Ua.P()/Ua.A();90===Math.abs(na.rotate)&&(a=1/a);a>Ta?x.C[1]*=Ta/a:x.C[0]*=a/Ta;y.K("s52",[{name:"u45",type:"1f",value:Ta}]);x.m[0]=0;x.m[1]=0;x.m[2]=0;x.m[3]=0;switch(na.rotate){case 0:x.m[0]=x.C[0];x.m[3]=x.C[1];break;case 180:x.m[0]=-x.C[0];x.m[3]=-x.C[1];break;case 90:x.m[1]=x.C[0];x.m[2]=-x.C[1];break;case -90:x.m[1]=-x.C[0],x.m[2]=x.C[1]}na.flipX&&(x.m[0]*=-1,x.m[2]*=-1)}function yb(){var a=x.element.videoWidth,c=x.element.videoHeight,
d=x.o[0]!==a||x.o[1]!==c;d&&(x.o[0]=a,x.o[1]=c);return d}function eb(a,c){if(ka===da.error)return!1;x.element=a;yb();c&&c();return!0}function Kb(a,c,d){a&&a();x.ua={video:{facingMode:{ideal:na.facingMode},width:{min:na.minWidth,max:na.maxWidth,ideal:na.idealWidth},height:{min:na.minHeight,max:na.maxHeight,ideal:na.idealHeight}},audio:!1};na.deviceId&&(x.ua.deviceId=na.deviceId);W.get(x.element?x.element:W.Ed(),function(e){c&&c(e);d(e)},function(){Ha("WEBCAM_UNAVAILABLE")},x.ua)}function Ha(a){ka!==
da.error&&(ka=da.error,N.ta&&N.ta(a))}var qa={lf:function(a){return Math.ceil(Math.log2(a))},Nd:function(a){return Math.log2(a)},Af:function(a){return 0===Math.log2(a)%1},Ae:function(a){var c=[0,0,0,0];a.forEach(function(d){c[0]+=d[0];c[1]+=d[1];c[2]+=d[2];c[3]+=d[3]});return c},Be:function(a,c,d){return Math.min(Math.max(a,c),d)},Fe:function(a){return a*Math.PI/180},Gf:function(a,c){c=Math.pow(10,c);return Math.round(a*c)/c},Hf:function(a){return Math.round(1E6*a)/1E6},mf:function(a,c){return(100*
a/c).toFixed(3)},S:function(a,c,d){return a*(1-d)+c*d},rd:function(a,c){return qa.jd(a-c)},jd:function(a){for(;a>Math.PI;)a-=2*Math.PI;for(;a<=-Math.PI;)a+=2*Math.PI;return a},He:function(a,c){return Math.abs(qa.rd(a,c))},re:function(a,c){return Math.atan2(Math.sin(a)+Math.sin(c),Math.cos(a)+Math.cos(c))}},Hb={get:function(a,c,d){var e=new XMLHttpRequest;e.open("GET",a,!0);e.withCredentials=!1;e.onreadystatechange=function(){4===e.readyState&&(200===e.status||0===e.status?c(e.responseText):"undefined"!==
typeof d&&d(e.status))};e.send()},hf:function(a,c){Hb.get(a,function(d){c(JSON.parse(d))})},Ef:function(a,c,d){var e=new XMLHttpRequest;e.open("POST",a,!0);e.setRequestHeader("Content-type","application/x-www-form-urlencoded");e.onreadystatechange=function(){4!==e.readyState||200!==e.status&&0!==e.status||d(e.responseText)};e.send(c)},Ye:function(a,c){var d=new XMLHttpRequest;d.open("POST",a,!0);d.responseType="arraybuffer";d.onload=function(){c(d.response)};d.send()}},db={Sf:function(a,c,d){a=Math.min(Math.max((d-
a)/(c-a),0),1);return a*a*(3-2*a)},Ra:function(a,c,d){return Math.min(Math.max((d-a)/(c-a),0),1)},Se:function(a,c,d,e){return Math.pow(Math.min(Math.max((e-a)/(c-a),0),1),d)},Wf:function(){return 0},Df:function(){return 1},Cf:function(a){return a},Pe:function(a){return a*a},Ue:function(a){return a*(2-a)},Me:function(a){return.5>a?2*a*a:-1+(4-2*a)*a},Ke:function(a){return a*a*a},Te:function(a){return--a*a*a+1},Le:function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},Qe:function(a){return a*a*a*a},
Ve:function(a){return 1- --a*a*a*a},Ne:function(a){return.5>a?8*a*a*a*a:1-8*--a*a*a*a},Re:function(a){return a*a*a*a*a},We:function(a){return 1+--a*a*a*a*a},Oe:function(a){return.5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a}},Zb={wd:function(a,c,d){switch(a){case "relu":return d+"=max(vec4(0.,0.,0.,0.),"+c+");";case "elu":return d+"=mix(exp(-abs("+c+"))-vec4(1.,1.,1.,1.),"+c+",step(0.,"+c+"));";case "elu01":return d+"=mix(0.1*exp(-abs("+c+"))-vec4(0.1,0.1,0.1,0.1),"+c+",step(0.,"+c+"));";case "arctan":return d+
"=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case "copy":return"";default:return!1}}},y=function(){function a(u,p,D){p=u.createShader(p);u.shaderSource(p,D);u.compileShader(p);return u.getShaderParameter(p,u.COMPILE_STATUS)?p:!1}function c(u,p,D){p=a(u,u.VERTEX_SHADER,p);D=a(u,u.FRAGMENT_SHADER,D);u===b&&t.push(p,D);var O=u.createProgram();u.attachShader(O,p);u.attachShader(O,D);u.linkProgram(O);return O}function d(u,p){void 0===p.ja&&(p.ja="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");
void 0===p.Ga&&(p.Ga=["a0"]);void 0===p.ra&&(p.ra=[2]);if(void 0===p.precision||"highp"===p.precision)p.precision=h;p.id=w++;void 0!==p.Zd&&p.Zd.forEach(function(O,ba){p.a=p.a.replace(O,p.Ya[ba])});p.Kb=0;p.ra.forEach(function(O){p.Kb+=4*O});p.ha=c(u,p.ja,"precision "+p.precision+" float;\n"+p.a);p.j={};p.c.forEach(function(O){p.j[O]=u.getUniformLocation(p.ha,O)});p.attributes={};p.sa=[];p.Ga.forEach(function(O){var ba=u.getAttribLocation(p.ha,O);p.attributes[O]=ba;p.sa.push(ba)});if(p.f){u.useProgram(p.ha);
g=p;q=p.id;for(var D in p.f)u.uniform1i(p.j[D],p.f[D])}p.sb=!0}function e(u){wa.ee(L);q!==u.id&&(L.M(),q=u.id,g=u,b.useProgram(u.ha),u.sa.forEach(function(p){0!==p&&b.enableVertexAttribArray(p)}))}function f(u,p,D){d(u,p,D);u.useProgram(p.ha);u.enableVertexAttribArray(0);q=-1;return g=p}function n(){return{a:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:["u1"],f:{u1:0}}}var t=[],q=-1,g=null,w=0,B=!1,h="highp",A=["u1"],k=["u0"],I={u1:0},H={u0:0},C={u1:0,u2:1},
r={u3:0},v={s0:n(),s1:{a:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:A,f:I,precision:"lowp"},s2:{a:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",c:["u1","u2"],f:C},s3:{a:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",c:A,f:I},s4:{a:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",
c:["u1","u2"],f:C},s5:{a:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",c:A,f:I},s6:{a:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",c:A,f:I},s7:{a:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u4;}",c:["u0","u4"],f:H},s8:{a:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;const vec4 f=vec4(.25,.25,.25,.25),g=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u4,f);gl_FragColor=b*g;}",
c:["u0","u4"],f:H},s9:{a:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",c:A,f:I},s10:{a:"uniform sampler2D u1,u5;uniform float u6;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u5,vv0);gl_FragColor=mix(b,a,u6*f);}",c:["u1","u5","u6"],f:{u1:0,u5:1}},s11:{a:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u7)+texture2D(u1,vv0+u7*vec2(1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,1.)));}",
c:["u1","u7"],f:I},s12:{a:"uniform sampler2D u1;uniform vec4 u8;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 j(float a){if(a==0.)return vec4(0.,0.,0.,0.);float k=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),l=c+127.,b=(a/exp2(c)-1.)*8388608.,d=l/2.,m=fract(d)*2.,n=floor(d),o=e(b,0.,8.),p=e(b,8.,16.),q=m*128.+e(b,16.,23.),r=k+n;return vec4(o,p,q,r)/255.;}void main(){float a=dot(texture2D(u1,vv0),u8);gl_FragColor=j(a);}",
c:["u1","u8"],f:I},s13:{a:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",c:k,f:H},s14:{a:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(f,a);}",c:k,f:H},s15:{a:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-f,a,step(0.,a));}",c:k,f:H},s16:{a:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-f;gl_FragColor=mix(.1*b,a,step(0.,a));}",
c:k,f:H},s17:{a:"uniform sampler2D u0,u6,u9;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u6,vv0),d=texture2D(u9,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",c:["u0","u6","u9"],f:{u0:0,u6:1,u9:2}},s18:{a:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",c:k,f:H},s19:{a:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=log(f+a);gl_FragColor=b;}",
c:k,f:H},s20:{a:"uniform sampler2D u0,u10;uniform float u11;const vec2 e=vec2(.5,.5);const float f=1e-5;const vec4 g=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u10,e);float b=u11*u11;vec4 c=max(b*a,f*g);gl_FragColor=texture2D(u0,vv0)/c;}",c:["u0","u10","u11"],f:{u0:0,u10:1}},s21:{a:"uniform sampler2D u1;uniform vec2 u12;varying vec2 vv0;void main(){float a=u12.x*u12.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u12.y),f=floor(u12.x*fract(b*u12.y)),g=(f*u12.y+d)/a;gl_FragColor=texture2D(u1,g+c/a);}",
c:["u1","u12"],f:I},s22:{a:"uniform sampler2D u13,u14,u15;varying vec2 vv0;void main(){vec4 a=texture2D(u15,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u13,b),f=texture2D(u14,c);gl_FragColor=d*f;}",c:["u13","u14","u15"],f:{u14:0,u13:1,u15:2}},s23:{a:"uniform float u16;uniform sampler2D u13,u14;varying vec2 vv0;void main(){vec2 a=fract(vv0*u16);vec4 b=texture2D(u13,vv0),c=texture2D(u14,a);gl_FragColor=b*c;}",c:["u14","u13","u16"],f:{u14:0,u13:1}},s24:{a:"uniform float u16;uniform sampler2D u13,u14,u17,u18,u19,u20;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 h=vv0*u16,l=floor(h),c=h-l;vec4 m=texture2D(u13,vv0),d=texture2D(u14,c),a=texture2D(u20,vv0);a=a*255.;vec4 n=texture2D(u17,c),o=texture2D(u18,c),p=texture2D(u19,c),i=step(-g,-a),b=e-i,j=b*step(-e-g,-a);b*=e-j;vec4 k=b*step(-2.*e-g,-a);b*=e-k;vec4 q=b;d=i*d+j*n+k*o+q*p,gl_FragColor=m*d;}",
c:"u13 u14 u16 u20 u17 u18 u19".split(" "),f:{u14:0,u13:1,u20:3,u17:4,u18:5,u19:6}},s25:{a:"uniform sampler2D u13,u14,u21;uniform float u16,u22,u23,u24;varying vec2 vv0;const vec2 j=vec2(1.,1.);void main(){vec2 a=floor(u22*vv0),b=u22*vv0-a;float c=u16/u22;vec2 d=floor(b*c),f=b*c-d,g=(a+f)/u22;float k=u22*u24/u16;vec2 l=k*d,h=(l+f*u23)/u24,i=step(h,j);vec4 m=texture2D(u13,g),n=texture2D(u14,h),o=m*n*i.x*i.y,p=texture2D(u21,g);gl_FragColor=o*u23*u23+p;}",c:"u13 u14 u16 u22 u23 u24 u21".split(" "),f:{u14:0,
u13:1,u21:2}},s26:{a:"uniform sampler2D u13,u14;varying vec2 vv0;void main(){vec4 a=texture2D(u13,vv0),b=texture2D(u14,vv0);gl_FragColor=a*b;}",c:["u13","u14"],f:{u14:0,u13:1}},s27:{a:"uniform sampler2D u1,u21;uniform float u25;varying vec2 vv0;void main(){gl_FragColor=texture2D(u21,vv0)+u25*texture2D(u1,vv0);}",c:["u1","u21","u25"],f:{u1:0,u21:1}},s28:{a:"varying vec2 vv0;uniform sampler2D u1;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,g)*f;}",
c:A,f:I,precision:"lowp"},s29:{a:"varying vec2 vv0;uniform sampler2D u1;uniform float u26;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u26)).rgb,c=texture2D(u1,vv0+vec2(u26,u26)).rgb,d=texture2D(u1,vv0+vec2(u26,0.)).rgb;gl_FragColor=vec4(dot(a,f),dot(b,f),dot(c,f),dot(d,f));}",c:["u1","u26"],f:I,precision:"lowp"},s30:{a:"varying vec2 vv0;uniform sampler2D u1;uniform float u26;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u26)).rgb,c=texture2D(u1,vv0+vec2(u26,u26)).rgb,d=texture2D(u1,vv0+vec2(u26,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
c:["u1","u26"],f:I,precision:"lowp"},s31:{a:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u27;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u27,vv0.y-u27))*1.,a-=texture2D(u1,vec2(vv0.x-u27,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u27,vv0.y+u27))*1.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y-u27))*1.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y+u27))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u27,vv0.y-u27))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u27))*2.,b-=texture2D(u1,vec2(vv0.x+u27,vv0.y-u27))*1.,b+=texture2D(u1,vec2(vv0.x-u27,vv0.y+u27))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u27))*2.,b+=texture2D(u1,vec2(vv0.x+u27,vv0.y+u27))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),g=texture2D(u2,vv0);gl_FragColor=g.a*e.r*f;}",
c:["u1","u2","u27"],f:C},s32:{a:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u27;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float h=0.;vec2 l=k*u27,a,b;float c,d,i=0.;for(float e=-4.;e<=4.;e+=1.)for(float f=-4.;f<=4.;f+=1.)a=vec2(e,f),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,h+=d*texture2D(u1,b).r,i+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-h/i)*j;}",c:["u1","u2","u27"],f:C},s33:{a:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 g=vec2(.5,.5),h=vec2(1.,0.),i=vec2(0.,1.);void main(){vec2 a=vv0-u7*g;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*h),d=texture2D(u3,a+u7*i),j=texture2D(u3,a+u7),k=e(b,c),l=e(d,j);gl_FragColor=e(k,l);}",
c:["u3","u7"],f:r},s34:{a:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;const vec2 k=vec2(1.,0.),l=vec2(0.,1.),m=vec2(2.,0.),n=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*k),d=texture2D(u3,a+u7*l),g=texture2D(u3,a+u7),h=e(b,c),i=e(d,g);return e(h,i);}void main(){vec2 a=vv0+u7*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u7*m),d=f(a+u7*2.),g=f(a+u7*n),h=e(b,c),i=e(d,g);gl_FragColor=e(h,i);}",c:["u3","u7"],f:r},s35:{a:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",
c:["u1"],f:I,precision:"lowp"},s36:{a:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;const float e=15444.;void main(){vec4 a=1001./e*texture2D(u1,vv0-3.*u7)+2002./e*texture2D(u1,vv0-2.*u7)+3003./e*texture2D(u1,vv0-u7)+3432./e*texture2D(u1,vv0)+3003./e*texture2D(u1,vv0+u7)+2002./e*texture2D(u1,vv0+2.*u7)+1001./e*texture2D(u1,vv0+3.*u7);gl_FragColor=a;}",c:["u7","u1"],f:I,precision:"lowp"},s37:{a:"uniform sampler2D u1,u28,u29;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);const float g=.1;void main(){vec4 a=texture2D(u28,vv0),b=texture2D(u29,vv0),c=texture2D(u1,vv0),d=max(f*g,b-a*a),h=sqrt(d);gl_FragColor=(c-a)/h;}",
c:["u1","u28","u29"],f:{u1:0,u28:1,u29:2}}},F={s38:{a:"uniform float u16,u30;uniform sampler2D u13,u14,u21;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u21,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u16,xyTo=floor(vv0*u16+eps2);float weightSize=toSparsity*u16;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u30*(xyPatch-halfFromSparsity))/u16,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u13,uvWeight)*texture2D(u14,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
c:["u16","u13","u14","u21","u30"],Ya:["1.1111","gl_FragColor\\*=2.2222;"]},s39:{a:"uniform float u16,u30,u24;uniform sampler2D u13,u14,u21;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u21,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u24,xyTo=floor(vv0*u16+eps2);float weightSize=fromSparsity*u24;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u16;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u30*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u24,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u13,uvWeight)*texture2D(u14,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
c:"u16 u24 u13 u14 u21 u30".split(" "),Ya:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},L={Qa:function(){return B},G:function(){if(!B){h="highp";for(var u in v)d(b,v[u],u);y.set("s0");b.enableVertexAttribArray(0);B=!0}},Vc:function(u){u.forEach(function(p){L.Nb(p)})},Nb:function(u){v[u.id]=u;d(b,u,u.id)},rc:function(u,p,D){p||(p=u);v[p]=Object.create(F[u]);v[p].Jd=!0;F[u].Ya&&F[u].Ya.forEach(function(O,ba){v[p].a=v[p].a.replace(new RegExp(O,"g"),D[ba])});d(b,v[p],p)},set:function(u){e(v[u])},Za:function(u){return f(u,
n(),"s40")},Gb:function(u){return f(u,{a:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",c:[],precision:"highp"},"s41")},td:function(u){return"undefined"===typeof v[u]?!1:v[u].sb},M:function(){-1!==q&&(q=-1,g.sa.forEach(function(u){0!==u&&b.disableVertexAttribArray(u)}))},Ib:function(){var u=0;g.sa.forEach(function(p,D){D=g.ra[D];b.vertexAttribPointer(p,D,b.FLOAT,!1,g.Kb,u);u+=4*D})},$b:function(){b.enableVertexAttribArray(0)},Ba:function(){L.$a(b)},$a:function(u){u.vertexAttribPointer(g.sa[0],2,u.FLOAT,
!1,8,0)},Mc:function(u,p){b.uniform1i(g.j[u],p)},v:function(u,p){b.uniform1f(g.j[u],p)},Aa:function(u,p,D){b.uniform2f(g.j[u],p,D)},Mf:function(u,p){b.uniform2fv(g.j[u],p)},Nf:function(u,p){b.uniform3fv(g.j[u],p)},fe:function(u,p,D,O){b.uniform3f(g.j[u],p,D,O)},Of:function(u,p,D,O,ba){b.uniform4f(g.j[u],p,D,O,ba)},Hb:function(u,p){b.uniform4fv(g.j[u],p)},Pf:function(u,p){b.uniformMatrix2fv(g.j[u],!1,p)},Qf:function(u,p){b.uniformMatrix3fv(g.j[u],!1,p)},Rf:function(u,p){b.uniformMatrix4fv(g.j[u],!1,
p)},K:function(u,p){L.set(u);p.forEach(function(D){switch(D.type){case "4f":b.uniform4fv(g.j[D.name],D.value);break;case "3f":b.uniform3fv(g.j[D.name],D.value);break;case "2f":b.uniform2fv(g.j[D.name],D.value);break;case "1f":b.uniform1f(g.j[D.name],D.value);break;case "1i":b.uniform1i(g.j[D.name],D.value);break;case "mat2":b.uniformMatrix2fv(g.j[D.name],!1,D.value);break;case "mat3":b.uniformMatrix3fv(g.j[D.name],!1,D.value);break;case "mat4":b.uniformMatrix4fv(g.j[D.name],!1,D.value)}})},kf:function(){return"lowp"},
h:function(){b.disableVertexAttribArray(0);L.M();for(var u in v){var p=v[u];p.sb&&(p.sb=!1,b.deleteProgram(p.ha));p.Jd&&delete v[u]}t.forEach(function(D){b.deleteShader(D)});t.splice(0);w=0;B=!1}};return L}(),b=null,Ua=function(){function a(h){console.log("ERROR in ContextFF: ",h);return!1}function c(h){if(navigator.userAgent&&-1!==navigator.userAgent.indexOf("forceWebGL1"))return!1;var A=document.createElement("canvas");A.setAttribute("width",1);A.setAttribute("height",1);var k=null;try{k=A.getContext("webgl2",
h)}catch(I){return!1}if(!k)return!1;d(k);ea.ac(k);h=Ba.Rb(k);Ba.h();k.getExtension("WEBGL_lose_context").loseContext();return h?!0:!1}function d(h){h.clearColor(0,0,0,0);h.disable(h.DEPTH_TEST);h.disable(h.BLEND);h.disable(h.DITHER);h.disable(h.STENCIL_TEST);h.disable(h.SCISSOR_TEST);h.GENERATE_MIPMAP_HINT&&h.hint(h.GENERATE_MIPMAP_HINT,h.FASTEST);h.disable(h.SAMPLE_ALPHA_TO_COVERAGE);h.disable(h.SAMPLE_COVERAGE);h.depthFunc(h.LEQUAL);h.clearDepth(1)}var e=null,f=null,n=null,t=null,q=!0,g=null,w=
null,B={A:function(){return e.width},P:function(){return e.height},af:function(){return e},$e:function(){return b},Z:function(){return q},flush:function(){b.flush()},yd:function(){g||(g=new Uint8Array(e.width*e.height*4));b.readPixels(0,0,e.width,e.height,b.RGBA,b.UNSIGNED_BYTE,g);return g},cf:function(){return e.toDataURL("image/jpeg")},df:function(){va.I();f||(f=document.createElement("canvas"),n=f.getContext("2d"));f.width=e.width;f.height=e.height;for(var h=B.yd(),A=n.createImageData(f.width,
f.height),k=f.width,I=f.height,H=A.data,C=0;C<I;++C)for(var r=I-C-1,v=0;v<k;++v){var F=4*(C*k+v),L=4*(r*k+v);H[F]=h[L];H[F+1]=h[L+1];H[F+2]=h[L+2];H[F+3]=h[L+3]}n.putImageData(A,0,0);return f.toDataURL("image/png")},bf:function(h){!f&&h&&(f=document.createElement("canvas"),n=f.getContext("2d"));var A=h?f:document.createElement("canvas");A.width=e.width;A.height=e.height;(h?n:A.getContext("2d")).drawImage(e,0,0);return A},G:function(h){h.od&&!h.eb?e=document.getElementById(h.od):h.eb&&(e=h.eb);e||
(e=document.createElement("canvas"));e.width=h&&void 0!==h.width?h.width:512;e.height=h&&void 0!==h.height?h.height:512;"undefined"===typeof h&&(h={});void 0===h.premultipliedAlpha&&(h.premultipliedAlpha=!1);void 0===h.uc&&(h.uc=!0);void 0===h.antialias&&(h.antialias=!1);if(!b){var A={antialias:h.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:h.premultipliedAlpha,stencil:!1,depth:h.uc};navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("noAntialiasing")&&(A.antialias=
!1);var k=c(A);!k&&A.antialias&&(A.antialias=!1,k=c(A));k&&(b=e.getContext("webgl2",A));b?q=!0:((b=e.getContext("webgl",A))||(b=e.getContext("experimental-webgl",A)),q=!1)}if(!b)return a("WebGL1 and 2 are not enabled");(t=b.getExtension("WEBGL_lose_context"))&&h.Fc&&(w=h.Fc,e.addEventListener("webglcontextlost",w,!1));if(!ea.G())return a("Not enough GL capabilities");d(b);y.G();U.G();return Ba.Rb()?!0:a("Cannot filter float textures")},h:function(){b&&ea.h();t&&w&&(e.removeEventListener("webglcontextlost",
w,!1),w=null);g=n=f=e=null}};return B}(),wa=function(){function a(){null===c&&("undefined"!==typeof y?c=y:"undefined"!==typeof JEShaders&&(c=JEShaders))}var c=null;a();return{ee:function(d){c!==d&&(c&&c.M(),c=d)},Qa:function(){return c.Qa()},Ba:function(){return c.Ba()},$a:function(d){return c.$a(d)},Ib:function(){return c.Ib()},M:function(){return c.M()},set:function(d){return c.set(d)},Za:function(d){a();return c.Za(d)},Gb:function(d){a();return c.Gb(d)},h:function(){return c.h()}}}(),Ea=function(){function a(l){b.bindTexture(b.TEXTURE_2D,
l)}function c(l){O[0]=l;l=ba[0];var M=l>>16&32768,J=l>>12&2047,m=l>>23&255;return 103>m?M:142<m?M|31744|((255==m?0:1)&&l&8388607):113>m?(J|=2048,M|(J>>114-m)+(J>>113-m&1)):M=(M|m-112<<10|J>>1)+(J&1)}function d(l){var M=new Uint16Array(l.length);l.forEach(function(J,m){M[m]=c(J)});return M}function e(){if(null!==pa.qb)return pa.qb;var l=n(d([1,1,1,1]));return null===l?!0:pa.qb=l}function f(){if(null!==pa.rb)return pa.rb;var l=n(new Uint8Array([255,255,255,255]));return null===l?!0:pa.rb=l}function n(l){if(!wa.Qa()||
!H)return null;var M=null;try{var J=b.getError();if("FUCKING_BIG_ERROR"===J)return!1;M=E.instance({isFloat:!1,H:!0,array:l,width:1});J=b.getError();if(J!==b.NO_ERROR)return!1}catch(m){return!1}la.I();b.viewport(0,0,1,1);b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);wa.set("s0");M.Pb(0);ma.g(!0,!0);l=new Uint8Array(4);b.readPixels(0,0,1,1,b.RGBA,b.UNSIGNED_BYTE,l);l=.9<l[0];M.remove();la.X();return l}var t=0,q=null,g=0,w=null,B=null,h=null,A=null,k=null,I=null,H=!1,C=[],r={isFloat:!1,isPot:!0,
isLinear:!1,isMipmap:!1,isAnisotropicFiltering:!1,isMirrorX:!1,isMirrorY:!1,isSrgb:!1,isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,D:null,Id:!1,H:!1,da:null,Ta:4,wb:0},v=!1,F=null,L=null,u=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],p=!1,D=!1,O=new Float32Array(1),ba=new Int32Array(O.buffer),pa={qb:null,rb:null},E={G:function(){if(!H){k=[b.RGB,!1,b.RGB,b.RGBA];I=[b.RGB,!1,b.RGB,b.RGBA];q=[b.TEXTURE0,b.TEXTURE1,b.TEXTURE2,b.TEXTURE3,b.TEXTURE4,b.TEXTURE5,b.TEXTURE6,b.TEXTURE7];
p="undefined"!==typeof JEContext;D="undefined"!==typeof ea;p&&JEContext.Bf()&&q.push(b.TEXTURE8,b.TEXTURE9);w=[-1,-1,-1,-1,-1,-1,-1,-1];A=[b.UNSIGNED_BYTE,b.FLOAT,b.FLOAT];if(!B){for(var l=new Float32Array(16384),M=0;16384>M;++M)l[M]=2*Math.random()-1;B={random:E.instance({isFloat:!0,isPot:!0,array:l,width:64}),Rc:E.instance({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}H=!0}},Gd:function(){E.pe()},tf:function(){return B.Rc},pe:function(){A[1]=ea.ob(b)},ae:function(){I=k=[b.RGBA,
b.RGBA,b.RGBA,b.RGBA]},Ff:function(l,M){y.set("s1");la.I();var J=l.A(),m=l.P();b.viewport(0,0,J,m);l.b(0);ma.g(!1,!1);b.readPixels(0,0,J,m,b.RGBA,b.UNSIGNED_BYTE,M)},jc:function(l,M,J,m,fa,ua,Ca){l.activeTexture(l.TEXTURE0);var ra=l.createTexture();l.bindTexture(l.TEXTURE_2D,ra);fa=fa instanceof Float32Array?fa:new Float32Array(fa);0!==qa.Nd(fa.length)%1&&(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE));l.texParameteri(l.TEXTURE_2D,
l.TEXTURE_MAG_FILTER,l.NEAREST);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST);l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,ua);l.texImage2D(l.TEXTURE_2D,0,l.RGBA,J,m,0,l.RGBA,l.FLOAT,fa);l.bindTexture(l.TEXTURE_2D,null);l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,!1);Ca&&(la.X(),y.set("s0"));l.viewport(0,0,J,m);l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,M,0);l.bindTexture(l.TEXTURE_2D,ra);Ca?ma.g(!0,!0):U.Ma(l);l.deleteTexture(ra);H&&(w[0]=-1,h=null,t=0)},instance:function(l){function M(z){if("FUCKING_BIG_ERROR"===
b.getError())return!1;b.texImage2D(b.TEXTURE_2D,0,ha,ca,ia,z);b.getError()!==b.NO_ERROR&&ca!==b.RGBA&&(ca=b.RGBA,b.texImage2D(b.TEXTURE_2D,0,ha,ca,ia,z));return!0}function J(){a(sa);xa&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,xa);m.isPot?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,m.isMirrorX?b.MIRRORED_REPEAT:b.REPEAT),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,m.isMirrorY?b.MIRRORED_REPEAT:b.REPEAT)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,
b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE));m.isAnisotropicFiltering&&"undefined"!==typeof JESETTINGS&&b.texParameterf(b.TEXTURE_2D,JEContext.ef().TEXTURE_MAX_ANISOTROPY_EXT,JESETTINGS.se);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,m.isLinear?b.LINEAR:b.NEAREST);m.isLinear?b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,m.isMipmap&&!Ka?b.NEAREST_MIPMAP_LINEAR:b.LINEAR):b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,m.isMipmap&&!Ka?b.NEAREST_MIPMAP_NEAREST:b.NEAREST);ca=k[m.Ta-1];ha=I[m.Ta-1];ia=
A[ua];if(ea.Z()){var z=b.RGBA32F;ca===b.RGBA&&ia===b.FLOAT?m.isMipmap||m.isLinear?ha=Ba.zd(b):ea.Sb()?z&&(ha=z):ha=b.RGBA16F||b.RGBA:ca===b.RGB&&ia===b.FLOAT&&z&&(ha=z,ca=b.RGBA)}if(m.H&&!m.isFloat||m.isFloat&&m.isMipmap&&Ba.Md())(z=b.RGBA16F)&&(ha=z),ia=ea.ob(b);m.wb&&(fb=m.wb);m.isSrgb&&4===m.Ta&&(ca=JEContext.rf());if(m.D)M(m.D);else if(m.url)M(Ga);else if(ya){z=ya;try{"FUCKING_BIG_ERROR"!==b.getError()&&(b.texImage2D(b.TEXTURE_2D,0,ha,P,Q,0,ca,ia,z),b.getError()!==b.NO_ERROR&&(b.texImage2D(b.TEXTURE_2D,
0,ha,P,Q,0,ca,ia,null),b.getError()!==b.NO_ERROR&&b.texImage2D(b.TEXTURE_2D,0,b.RGBA,P,Q,0,b.RGBA,b.UNSIGNED_BYTE,null)))}catch(jc){b.texImage2D(b.TEXTURE_2D,0,ha,P,Q,0,ca,ia,null)}m.isKeepArray||(ya=null)}else"FUCKING_BIG_ERROR"!==b.getError()&&(b.texImage2D(b.TEXTURE_2D,0,ha,P,Q,0,ca,ia,null),b.getError()!==b.NO_ERROR&&(ca=b.RGBA,m.H&&ia!==b.FLOAT&&(ia=b.FLOAT,b.texImage2D(b.TEXTURE_2D,0,ha,P,Q,0,ca,ia,null))));if(m.isMipmap)if(!Ka&&aa)aa.nb(),gb=!0;else if(Ka){z=Math.log2(Math.min(P,Q));Va=Array(1+
z);Va[0]=sa;for(var R=1;R<=z;++R){var ja=Math.pow(2,R),S=P/ja;ja=Q/ja;var La=b.createTexture();a(La);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texImage2D(b.TEXTURE_2D,0,ha,S,ja,0,ca,ia,null);a(null);Va[R]=La}gb=!0}a(null);w[t]=-1;xa&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1);hb=!0;m.da&&aa&&(m.da(aa),m.da=null)}var m=Object.assign({},r,l),fa=g++;null===m.isFlipY&&(m.isFlipY=m.url||m.array?!0:!1);m.data&&(m.array="string"===
typeof m.data?Qb(m.data):m.isFloat?new Float32Array(m.data):new Uint8Array(m.data),m.isFlipY=!1);var ua=0,Ca=m.D?!0:!1,ra=null,zb=null,Lb=!1,Ab=null;m.H=m.H||m.isFloat;m.H&&(ua=1);m.Id||ea.Z()||!m.isFloat||!D||ea.Sb()||(m.isFloat=!1);m.isFloat&&(ua=2);m.isAnisotropicFiltering&&p&&!JEContext.vf()&&(m.isAnisotropicFiltering=!1);var sa=b.createTexture(),Ga=null,ya=!1,P=0,Q=0,hb=!1,ib=!1,za=null,Da=null,Bb=null,Xa=null,ha=null,ca=null,ia=null,xa=m.isFlipY;l="undefined"!==typeof Ba&&Ba.ed();var Ka=m.H&&
m.isMipmap&&l?!0:!1,Va=null,fb=-1,gb=!1,Ma={wc:!1,Qb:null,kc:null};m.width&&(P=m.width,Q=m.height?m.height:P);var aa={get:function(){return sa},A:function(){return P},P:function(){return Q},uf:function(){return m.url},wf:function(){return m.isFloat},yf:function(){return m.H},zf:function(){return m.isLinear},nb:function(){b.generateMipmap(b.TEXTURE_2D)},cd:function(z,R){Ka?(z||(z=aa.oc()),aa.bb(R),a(Va[z]),w[R]=-1):aa.b(R)},oc:function(){-1===fb&&(fb=Math.log(P)/Math.log(2));return fb},vd:function(z){if(Ka){z||
(z=aa.oc());y.set("s11");aa.bb(0);for(var R=P,ja=Q,S=1;S<=z;++S)R/=2,ja/=2,y.Aa("u7",.25/R,.25/ja),b.viewport(0,0,R,ja),a(Va[S-1]),b.framebufferTexture2D(la.Oa(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,Va[S],0),ma.g(!1,1===S);w[0]=-1}else aa.nb()},bb:function(z){z!==t&&(b.activeTexture(q[z]),t=z)},b:function(z){if(!hb)return!1;aa.bb(z);if(w[z]===fa)return!1;a(sa);w[z]=fa;return!0},Pb:function(z){b.activeTexture(q[z]);t=z;a(sa);w[z]=fa},l:function(){h=aa;b.framebufferTexture2D(la.Oa(),b.COLOR_ATTACHMENT0,
b.TEXTURE_2D,sa,0)},N:function(){h=aa;b.viewport(0,0,P,Q);b.framebufferTexture2D(la.Oa(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,sa,0)},Jb:E.Jb,resize:function(z,R){P=z;Q=R;J()},clone:function(z){z=E.instance({width:P,height:Q,H:m.H,isFloat:m.isFloat,isLinear:m.isLinear,isMirrorY:m.isMirrorY,isFlipY:z?!xa:xa,isPot:m.isPot});wa.set("s0");la.X();z.l();b.viewport(0,0,P,Q);aa.b(0);ma.g(!0,!0);return z},ge:function(){b.viewport(0,0,P,Q)},remove:function(){b.deleteTexture(sa);C.splice(C.indexOf(aa),1);aa=null},
refresh:function(){aa.Pb(0);xa&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);Ca?b.texImage2D(b.TEXTURE_2D,0,ha,ca,b.UNSIGNED_BYTE,m.D):b.texImage2D(b.TEXTURE_2D,0,ha,P,Q,0,ca,ia,ya);xa&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},Wb:function(){var z=P*Q*4;Da=[new Uint8Array(z),new Uint8Array(z),new Uint8Array(z),new Uint8Array(z)];za=[new Float32Array(Da[0].buffer),new Float32Array(Da[1].buffer),new Float32Array(Da[2].buffer),new Float32Array(Da[3].buffer)];Bb=new Uint8Array(4*z);Xa=new Float32Array(Bb.buffer);
ib=!0},Kc:function(){ib||aa.Wb();b.readPixels(0,0,P,4*Q,b.RGBA,b.UNSIGNED_BYTE,Bb);for(var z=P*Q,R=2*z,ja=3*z,S=0;S<z;++S)za[0][S]=Xa[S],za[1][S]=Xa[S+z],za[2][S]=Xa[S+R],za[3][S]=Xa[S+ja];return za},Xd:function(){Ma.wc||(Ma.Qb=new Uint8Array(P*Q*4),Ma.kc=new Float32Array(Ma.buffer),Ma.wc=!0);b.readPixels(0,0,P,Q,b.RGBA,b.UNSIGNED_BYTE,Ma.Qb);return Ma.kc},Yb:function(z){la.I();y.set("s12");aa.b(0);if(z)b.viewport(0,0,P,Q),y.Hb("u8",.25,.25,.25,.25),ma.g(!1,!0);else for(z=0;4>z;++z)b.viewport(0,Q*
z,P,Q),y.Hb("u8",u[z]),ma.g(!1,0===z)},oe:function(z){var R=ia===A[0]&&!f();a(sa);xa&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);R?(Lb||(ra=document.createElement("canvas"),ra.width=P,ra.height=Q,zb=ra.getContext("2d"),Ab=zb.createImageData(P,Q),Lb=!0),Ab.data.set(z),zb.putImageData(Ab,0,0),b.texImage2D(b.TEXTURE_2D,0,ha,ca,ia,ra)):b.texImage2D(b.TEXTURE_2D,0,ha,P,Q,0,ca,ia,z);w[t]=fa;xa&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},Uf:function(z,R){a(sa);R&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);b.texImage2D(b.TEXTURE_2D,
0,ha,ca,ia,z);w[t]=fa;R&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},Kf:function(z,R){var ja=P*Q,S=4*ja;z=m.H?z?"RGBE":"JSON":"RGBA";R&&(z=R);R=ea.Z()&&!1;var La=null;switch(z){case "RGBE":La="s42";break;case "JSON":La=R?"s0":"s12";break;case "RGBA":case "RGBAARRAY":La="s6"}ib||("RGBA"===z||"RGBE"===z||"RGBAARRAY"===z?(Da=new Uint8Array(S),ib=!0):"JSON"!==z||R||aa.Wb());la.I();y.set(La);aa.b(0);S=null;if("RGBA"===z||"RGBE"===z||"RGBAARRAY"===z){b.viewport(0,0,P,Q);ma.g(!0,!0);b.readPixels(0,0,P,Q,b.RGBA,
b.UNSIGNED_BYTE,Da);if("RGBAARRAY"===z)return{data:Da};v||(F=document.createElement("canvas"),L=F.getContext("2d"),v=!0);F.width=P;F.height=Q;ja=L.createImageData(P,Q);ja.data.set(Da);L.putImageData(ja,0,0);S=F.toDataURL("image/png")}else if("JSON"===z)if(R)S=new Float32Array(ja),b.viewport(0,0,P,Q),ma.g(!0,!0),b.readPixels(0,0,P,Q,b.RGBA,b.FLOAT,S);else{for(S=0;4>S;++S)b.viewport(0,Q*S,P,Q),y.Hb("u8",u[S]),ma.g(!S,!S);aa.Kc();S=Array(ja);for(R=0;R<ja;++R)S[4*R]=za[0][R],S[4*R+1]=za[1][R],S[4*R+2]=
za[2][R],S[4*R+3]=za[3][R]}return{format:z,data:S,width:P,height:Q,isMirrorY:m.isMirrorY,isFlipY:"RGBA"===z?m.isFlipY:!m.isFlipY}}};m.isMipmap&&!Ka&&hb&&!gb&&(aa.nb(),gb=!0);if(m.url)a(sa),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,1,1,0,b.RGBA,b.UNSIGNED_BYTE,null),Ga=new Image,Ga.Ge="Anonymous",Ga.crossOrigin="Anonymous",Ga.src=m.url,Ga.onload=function(){P=Ga.width;Q=Ga.height;J()};else if(m.D){var Mb=function(){P=void 0!==m.D.videoWidth?m.D.videoWidth:m.D.width;Q=void 0!==m.D.videoHeight?m.D.videoHeight:
m.D.height;P?J():setTimeout(Mb,1)};Mb()}else m.array?(m.H&&!m.isFloat?m.array instanceof Uint16Array?(ya=m.array,J()):e()?(ya=d(m.array),J()):(J(),E.jc(b,sa,aa.A(),aa.P(),m.array,xa,!0)):(ya=m.isFloat?m.array instanceof Float32Array?m.array:new Float32Array(m.array):m.array instanceof Uint8Array?m.array:new Uint8Array(m.array),J()),m.isKeepArray||(ya&&ya!==m.array&&(ya=null),delete m.array)):J();aa.qf=aa.A;m.da&&hb&&(m.da(aa),m.da=null);C.push(aa);return aa},I:function(l){l!==t&&(b.activeTexture(q[l]),
t=l);w[l]=-1;a(null)},we:function(l){B.random.b(l)},Jb:function(){h=null;b.framebufferTexture2D(la.Oa(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0)},reset:function(){for(var l=0;l<q.length;++l)w[l]=-1;t=-1},If:function(){t=-1},le:function(){for(var l=0;l<q.length;++l)E.I(l)},lc:function(){B&&(B.random.remove(),B.Rc.remove())},Tf:function(l,M){if("RGBA"===l.format||"RGBE"===l.format){var J=new Image;J.src=l.data;J.onload=function(){E.instance({isMirrorY:l.isMirrorY,isFlipY:l.isFlipY,isFloat:!1,D:J,da:function(m){if("RGBA"===
l.format)M(m);else{var fa=l.width,ua=l.height,Ca=E.instance({isMirrorY:l.isMirrorY,isFloat:!0,width:fa,height:ua,isFlipY:l.isFlipY});la.X();b.viewport(0,0,fa,ua);y.set("s43");Ca.l();m.b(0);ma.g(!0,!0);E.I(0);M(Ca);b.flush();setTimeout(m.remove,50)}}})}}else"JSON"===l.format?M(E.instance({isFloat:!0,isFlipY:l.isFlipY,width:l.width,height:l.height,array:new Float32Array(l.data)})):M(!1)},h:function(){h&&(va.X(),E.Jb(),va.I());E.le();C.slice(0).forEach(function(l){l.remove()});C.splice(0);H=!1;g=0;"undefined"!==
typeof Ba&&Ba.h()}};return E}(),Tb=function(){return{instance:function(a){var c=[Ea.instance(a),Ea.instance(a)],d=[c[1],c[0]],e=d,f={de:function(n){e[1].l();e[0].b(n);f.Oc()},Lf:function(n){e[1].N();e[0].b(n);f.Oc()},Oc:function(){e=e===c?d:c},refresh:function(){e[0].refresh();e[1].refresh()},b:function(n){e[0].b(n)},ve:function(n){e[1].b(n)},jf:function(){return e[0]},remove:function(){e[0].remove();e[1].remove();e=null}};return f}}}(),ma=function(){function a(g){var w={W:null,B:null};w.W=g.createBuffer();
g.bindBuffer(g.ARRAY_BUFFER,w.W);g.bufferData(g.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),g.STATIC_DRAW);w.B=g.createBuffer();g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,w.B);g.bufferData(g.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),g.STATIC_DRAW);return w}var c=null,d=0,e=!1,f=[],n=-2,t=-2,q={reset:function(){t=n=-2},G:function(){e||(c=a(b),q.Ha(),e=!0)},instance:function(g){var w=d++,B=g.B?g.B.length:0,h="undefined"===typeof g.mode?b.STATIC_DRAW:g.mode,A=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,
A);b.bufferData(b.ARRAY_BUFFER,g.W instanceof Float32Array?g.W:new Float32Array(g.W),h);n=w;var k=null,I=null,H=null;if(g.B){k=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,k);var C=null;65536>g.B.length?(C=Uint16Array,I=b.UNSIGNED_SHORT,H=2):(C=Uint32Array,I=b.UNSIGNED_INT,H=4);C=g.B instanceof C?g.B:new C(g.B);b.bufferData(b.ELEMENT_ARRAY_BUFFER,C,h);t=w}var r={dd:function(v){n!==w&&(b.bindBuffer(b.ARRAY_BUFFER,A),n=w);v&&wa.Ib()},ad:function(){t!==w&&(b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,
k),t=w)},bind:function(v){r.dd(v);r.ad()},Ie:function(){b.drawElements(b.TRIANGLES,B,I,0)},Je:function(v,F){b.drawElements(b.TRIANGLES,v,I,F*H)},remove:function(){b.deleteBuffer(A);g.B&&b.deleteBuffer(k);r=null}};f.push(r);return r},Ha:function(){-1!==n&&(b.bindBuffer(b.ARRAY_BUFFER,c.W),n=-1);-1!==t&&(b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,c.B),t=-1)},g:function(g,w){g&&ma.Ha();w&&wa.Ba();b.drawElements(b.TRIANGLES,3,b.UNSIGNED_SHORT,0)},Ma:function(g){g=g||b;var w=a(g);g.bindBuffer(g.ARRAY_BUFFER,
w.W);g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,w.B);wa.$a(g);g.drawElements(g.TRIANGLES,3,g.UNSIGNED_SHORT,0);g.deleteBuffer(w.W);g.deleteBuffer(w.B);q.reset()},lc:function(){var g=b,w=c;g.deleteBuffer(w.W);g.deleteBuffer(w.B)},h:function(){q.lc();f.forEach(function(g){g.remove()});b.bindBuffer(b.ARRAY_BUFFER,null);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,null);q.reset();e=!1;f.splice(0);d=0}};return q}(),la=function(){var a=null,c=null,d=null,e=!1,f=[],n={u:-2,ic:1},t={Qa:function(){return e},G:function(){if(!e){a=
b.createFramebuffer();var q=ea.Z();c=q&&b.DRAW_FRAMEBUFFER?b.DRAW_FRAMEBUFFER:b.FRAMEBUFFER;d=q&&b.READ_FRAMEBUFFER?b.READ_FRAMEBUFFER:b.FRAMEBUFFER;e=!0}},ff:function(){return c},Ad:function(){return d},Oa:function(){return b.FRAMEBUFFER},pf:function(){return n},Ze:function(){return a},instance:function(q){void 0===q.tc&&(q.tc=!1);var g=q.$?q.$:null,w=q.width,B=void 0!==q.height?q.height:q.width,h=a,A=null,k=!1,I=!1,H=0;g&&(w=w?w:g.A(),B=B?B:g.P());var C={Lc:function(){k||(h=b.createFramebuffer(),
k=!0,H=n.ic++)},Uc:function(){C.Lc();C.l();A=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,A);b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,w,B);b.framebufferRenderbuffer(c,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,A);b.clearDepth(1)},bind:function(r,v){H!==n.u&&(b.bindFramebuffer(c,h),n.u=H);g&&g.l();v&&b.viewport(0,0,w,B);r&&b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT)},ue:function(){H!==n.u&&(b.bindFramebuffer(c,h),n.u=H)},clear:function(){b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT)},
Ce:function(){b.clear(b.COLOR_BUFFER_BIT)},De:function(){b.clear(b.DEPTH_BUFFER_BIT)},ge:function(){b.viewport(0,0,w,B)},l:function(){H!==n.u&&(b.bindFramebuffer(c,h),n.u=H)},rtt:function(r){g=r;n.u!==H&&(b.bindFramebuffer(b.FRAMEBUFFER,h),n.u=H);r.l()},I:function(){b.bindFramebuffer(c,null);n.u=-1},resize:function(r,v){w=r;B=v;A&&(b.bindRenderbuffer(b.RENDERBUFFER,A),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,w,B))},remove:function(){h===a||I||(b.bindFramebuffer(c,h),b.framebufferTexture2D(c,
b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),A&&b.framebufferRenderbuffer(c,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,null),b.bindFramebuffer(c,null),b.deleteFramebuffer(h),A&&b.deleteRenderbuffer(A));I=!0}};q.tc&&C.Uc();f.push(C);return C},I:function(){b.bindFramebuffer(c,null);n.u=-1},me:function(){b.bindFramebuffer(c,null);b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);b.viewport(0,0,ea.A(),ea.P());n.u=-1},reset:function(){n.u=-2},X:function(){0!==n.u&&(b.bindFramebuffer(c,a),n.u=0)},clear:function(){b.viewport(0,
0,ea.A(),ea.P());b.clear(b.COLOR_BUFFER_BIT)},h:function(){t.I();f.forEach(function(q){q.remove()});b.deleteFramebuffer(a);t.reset();e=!1;f.splice(0);n.u=-2;n.ic=1}};return t}(),ea=function(){function a(){d="undefined"===typeof Ua?JEContext:Ua;e=!0}function c(r,v){for(var F=0;F<r.length;++F){var L=v.getExtension(r[F]);if(L)return L}return null}var d=null,e=!1,f=!1,n=null,t=null,q=!1,g=null,w=!1,B=null,h=!1,A=null,k=null,I={fa:!0,ga:!0,mb:!0},H="undefined"===typeof window?{}:window,C={G:function(){if(e)return!0;
a();var r=b;if(!f){n=C.dc(r);if((q=(H.GL_EXT_FLOAT=n)?!0:!1)||C.Z())t=C.ec(r),H.GL_EXT_FLOATLINEAR=t;f=!0}if(!h){if(g=C.La(r))w=!0,H.GL_EXT_HALFFLOAT=g;if(w||C.Z())B=C.fc(r),H.GL_EXT_HALFFLOATLINEAR=B;h=!0}A=C.bc(r);H.GL_EXT_COLORBUFFERFLOAT=A;k=C.cc(r);H.GL_EXT_COLORBUFFERHALFFLOAT=k;la.G();Ea.G();if(!C.pd())return!1;ma.G();Ea.Gd();return!0},A:function(){e||a();return d.A()},P:function(){e||a();return d.P()},Z:function(){e||a();return d.Z()},ac:function(r){C.bc(r);C.cc(r);C.dc(r);C.ec(r);C.La(r);
C.fc(r)},bc:c.bind(null,["EXT_color_buffer_float","WEBGL_color_buffer_float","OES_color_buffer_float"]),cc:c.bind(null,["EXT_color_buffer_half_float","WEBGL_color_buffer_half_float","OES_color_buffer_half_float"]),dc:c.bind(null,["OES_texture_float","MOZ_OES_texture_float","WEBKIT_OES_texture_float"]),ec:c.bind(null,["OES_texture_float_linear","MOZ_OES_texture_float_linear","WEBKIT_OES_texture_float_linear"]),La:c.bind(null,["OES_texture_half_float","MOZ_OES_texture_half_float","WEBKIT_OES_texture_half_float"]),
fc:c.bind(null,["OES_texture_half_float_linear","MOZ_OES_texture_half_float_linear","WEBKIT_OES_texture_half_float_linear"]),ob:function(r){var v=C.La(r);return v&&v.HALF_FLOAT_OES?v.HALF_FLOAT_OES:r.HALF_FLOAT||r.FLOAT},Sb:function(){return I.fa},ye:function(){return I.ga},xe:function(){return I.mb},ab:function(r,v,F){function L(){r.bindTexture(r.TEXTURE_2D,null);r.bindFramebuffer(u,null);r.deleteTexture(O);r.deleteFramebuffer(D)}var u=r.FRAMEBUFFER,p=r.NEAREST,D=r.createFramebuffer();r.bindFramebuffer(u,
D);var O=r.createTexture();r.bindTexture(r.TEXTURE_2D,O);r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,p);r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,p);r.texImage2D(r.TEXTURE_2D,0,v,1,1,0,r.RGBA,F,null);r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,O,0);if(r.checkFramebufferStatus(r.READ_FRAMEBUFFER||r.FRAMEBUFFER)!==r.FRAMEBUFFER_COMPLETE)return L(),!1;wa.Gb(r);r.clearColor(0,0,0,0);r.viewport(0,0,1,1);r.clear(r.COLOR_BUFFER_BIT);ma.Ma(r);r.bindFramebuffer(u,null);
wa.Za(r);r.activeTexture(r.TEXTURE0);r.bindTexture(r.TEXTURE_2D,O);ma.Ma(r);v=new Uint8Array(4);r.readPixels(0,0,1,1,r.RGBA,r.UNSIGNED_BYTE,v);L();return 3<Math.abs(v[0]-127)?!1:!0},Xb:function(r){var v={fa:!1,ga:!1};r.RGBA32F&&C.ab(r,r.RGBA32F,r.FLOAT)&&(v.fa=!0);!v.fa&&C.ab(r,r.RGBA,r.FLOAT)&&(v.fa=!0);var F=C.ob(r);r.RGBA16F&&C.ab(r,r.RGBA16F,F)&&(v.ga=!0);!v.ga&&C.ab(r,r.RGBA,F)&&(v.ga=!0);return v},qd:function(){var r=la.instance({width:1});r.Lc();var v=Ea.instance({width:1,isFloat:!0,Ta:3});
r.l();v.l();b.flush();b.checkFramebufferStatus(la.Ad())!==b.FRAMEBUFFER_COMPLETE?(Ea.ae(),I.mb=!1):I.mb=!0;r.remove();v.remove()},pd:function(){var r=C.Xb(b);Object.assign(I,r);if(!I.fa&&!I.ga)return!1;C.qd();return!0},h:function(){Ea.h();wa.h();la.h();ma.h();e=!1}};return C}(),U=ma,va=la,V=Ea,Ba=function(){function a(v,F,L,u){k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,u?k.NEAREST_MIPMAP_NEAREST:k.LINEAR);var p=null;if(null!==L)try{p=k.getError();if("FUCKING_BIG_ERROR"===p)return!1;k.texImage2D(k.TEXTURE_2D,
0,v,2,2,0,k.RGBA,F,L);p=k.getError();if(p!==k.NO_ERROR)return!1}catch(D){return!1}u&&k.generateMipmap(k.TEXTURE_2D);k.clear(k.COLOR_BUFFER_BIT);U.Ma(k);p=k.getError();if("FUCKING_BIG_ERROR"===p)return!1;k.readPixels(0,0,1,1,k.RGBA,k.UNSIGNED_BYTE,B);p=k.getError();p===k.INVALID_OPERATION&&"undefined"!==typeof k.PIXEL_PACK_BUFFER&&(k.bindBuffer(k.PIXEL_PACK_BUFFER,null),k.readPixels(0,0,1,1,k.RGBA,k.UNSIGNED_BYTE,B),p=k.getError());if(p!==k.NO_ERROR)return!1;if(v=0!==B[0])g.Ic=F;return v}function c(v,
F){return I.fa&&a(v,k.FLOAT,new Float32Array(A),F)?(q=t.Mb,!0):!1}function d(v,F,L){if(!I.ga)return!1;var u=ea.La(k);if(u&&u.HALF_FLOAT_OES&&a(v,u.HALF_FLOAT_OES,new Uint16Array(A),F)||k.HALF_FLOAT&&a(v,k.HALF_FLOAT,new Uint16Array(A),F)||a(v,k.FLOAT,new Float32Array(A),F))return q=t.qa,!0;k.bindTexture(k.TEXTURE_2D,L);k.texImage2D(k.TEXTURE_2D,0,k.RGBA,1,1,0,k.RGBA,k.UNSIGNED_BYTE,null);k.bindFramebuffer(g.Ka,r);Ea.jc(k,L,1,1,new Float32Array(A),!1,!1);k.bindFramebuffer(g.Ka,null);k.bindTexture(k.TEXTURE_2D,
L);return a(v,null,null,F)?(q=t.qa,!0):!1}function e(v,F,L){w=!0;if(d(v,!0,L)||c(F,!0))return!0;w=!1;return d(v,!1,L)||c(F,!1)?!0:!1}function f(v){if(q===t.M){k=v||b;q=t.RGBA8;w=!0;ea.ac(k);I=ea.Xb(k);va.reset();r=k.createFramebuffer();g.Ka=k.DRAW_FRAMEBUFFER||k.FRAMEBUFFER;k.bindFramebuffer(g.Ka,null);k.clearColor(0,0,0,0);k.viewport(0,0,1,1);y.M();H=y.Za(k);v=k.createTexture();k.activeTexture(k.TEXTURE0);k.bindTexture(k.TEXTURE_2D,v);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT);k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_WRAP_T,k.REPEAT);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST);C=v;var F=v=k.RGBA,L=k.RGBA16F,u=k.RGBA32F;u&&(v=u);L&&(F=L);if((L||u)&&e(F,v,C))return n(),!0;v=F=k.RGBA;if(e(F,v,C))return n(),!0;q=t.RGBA8;n();return!1}}function n(){k.deleteProgram(H.ha);k.deleteTexture(C);C=H=null}var t={M:-1,Mb:3,qa:2,RGBA8:0},q=t.M,g={Ic:null,Hd:null,Ka:null},w=!0,B=new Uint8Array(4),h=[.8,1,.8,1],A=h.concat(h,h,h),k=null,I=null,H=null,C=null,r=null;return{ed:function(v){f(v);return w},
Rb:function(v){f(v);return q!==t.RGBA8},xf:function(v){f(v);return q===t.Mb},Md:function(v){f(v);return q===t.qa},gf:function(v){f(v);return g.Ic},zd:function(v){f(v);return g.Hd},h:function(){k=null;w=!0;q=t.M}}}(),$b=function(){return{instance:function(a){var c=V.instance(a.alpha),d=V.instance(a.beta);return{sd:function(){c.b(1);d.b(2)}}}}}(),Ob=function(){return{instance:function(a){var c=null,d=!1,e=!1,f=null,n=!1,t=!1,q=null,g="undefined"===typeof a.preprocessing?!1:a.preprocessing,w="undefined"===
typeof a.preprocessingSize?a.size:a.preprocessingSize;a.mask&&(d=!0,K&&void 0!==K.$c&&(a.mask=K.$c+a.mask),c=V.instance({isFloat:!1,url:a.mask}));var B=!1;a.customInputShader&&(B="s44",y.Nb({name:"_",id:B,a:a.customInputShader,c:["uSource"],precision:"lowp"}),y.K(B,[{type:"1i",name:"_",value:0}]));switch(g){case "sobel":q="s31";n=!0;break;case "meanNormalization":q="s32";n=!0;break;case "grayScale":q="s28";n=!1;break;case "grayScaleTilt":q="s29";t=!0;n=!1;break;case "rgbGrayTilt":q="s30";t=!0;n=!1;
break;case "copy":q=B?B:"s0";break;case "inputLightRegulation":q=B?B:"s28";f=ac.instance({sc:w,Hc:a.size,Ac:a.nBlurPass,Ld:!1});e=!0;break;case "direct":case "none":q=!1;break;default:q="s3"}t&&y.K(q,[{name:"u26",type:"1f",value:a.tilt}]);d&&(q+="Mask");var h=V.instance({isFloat:!1,isPot:!1,width:a.size}),A={A:function(){return w},pb:function(){return A.A()},Cd:function(){return e?f.pc():h},J:function(){va.X();q&&(y.set(q),n&&y.v("u27",1/a.size),h.N(),d&&c.b(1),U.g(!1,!1),h.b(0),e&&f.process(h))},
h:function(){h.remove();d&&c.remove()}};return A}}}(),Pb=function(){return{instance:function(a){"undefined"===typeof a.disableNormalize&&(a.disableNormalize=!1);var c={input:null,la:null,tb:null,U:null,Va:null,Bb:null,Cb:null},d=null,e=[],f=[],n=!1,t=null,q=!0,g=-1,w=a.isReorganize?a.isReorganize:!1,B=a.kernelsNumber?!0:!1,h=a.dynPelu?$b.instance(a.dynPelu):!1,A=h?!0:!1,k={isEnabled:!1};a.Kd?(a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:a.Wa.pb(),q=!1):"full"===a.connectivityUp&&(a.sparsity=
a.Wa.pb());var I={elu:"s15",elu01:"s16",relu:"s14",arctan:"s18",sigmoid:"s13",copy:"s0",softplus:"s19",dynPelu:"s17"}[a.activation],H=a.sparsity*a.sparsity,C=!1,r=a.size,v="";if(a.maxPooling){switch(a.maxPooling.size){case 2:v="s33";break;case 4:v="s34"}C=!0;r/=a.maxPooling.size;c.Bb=V.instance({isFloat:!0,isPot:!1,width:r})}var F=void 0!==a.Td&&a.Td?!0:!1,L=null,u=null,p=null;if(F){L="s45"+a.index.toString();y.rc("s45",L,[((a.normalization.n-1)/2).toFixed(1)]);y.K(L,[{type:"1i",name:"u1",value:0},
{type:"2f",name:"u7",value:[1/a.size,1/a.size]},{type:"1f",name:"u6",value:a.normalization.alpha},{type:"1f",name:"u9",value:a.normalization.beta},{type:"1f",name:"u31",value:a.normalization.k}]);var D={isFloat:!0,isPot:!0,width:a.size};u=V.instance(D);p=V.instance(D)}var O=-1,ba=null;q&&(c.U=V.instance({isFloat:!0,isPot:!1,width:a.size}));c.la=V.instance(a.bias);var pa={A:function(){return a.size},pb:function(){return r},mc:function(){return a.classesCount},bd:function(E){d.b(E)},Vd:function(){a.remap&&
a.remap.isEnabled&&(k={isEnabled:!0,Pd:V.instance({isFloat:!1,isFlipY:!1,array:new Uint8Array(a.remap.maskTexture.data),width:a.remap.maskTexture.width,isPot:!1}),layers:a.remap.layers.map(function(E){return a.parent.Bd(E)}),depth:a.remap.depth})},ce:function(){switch(a.connectivityUp){case "direct":ba=bc.instance(a.connectivity);break;case "square":ba=cc.instance(a.connectivity);break;case "squareFast":ba=dc.instance(a.connectivity,a.activation);break;case "full":ba=ec.instance(a.connectivity);break;
case "conv":g=a.kernelsNumber,ba=fc.instance(a.connectivity),w&&(c.Va=V.instance({width:r,isFloat:!0,isFlipY:!1,isPot:!1}))}if(ba.oa){var E=a.size*a.sparsity;O=Math.log(E/a.size)/Math.log(2);c.input=V.instance({isMipmap:!0,isFloat:!0,isPot:!0,width:E,wb:O});c.tb=V.instance({isFloat:!0,isPot:!0,width:a.size})}},J:function(E){d=E;ba.oa?(c.input.N(),B&&c.la.b(2),ba.J(k),c.input.b(0),c.input.vd(O),c.tb.N(),B?y.set("s0"):(y.set("s27"),y.v("u25",H),c.la.b(1)),c.input.cd(O,0),U.g(!1,!1),y.set(I),F?u.l():
c.U.l(),c.tb.b(0),A&&h.sd(),U.g(!1,!1)):(c.U.N(),c.la.b(1),ba.J());F&&(y.set(L),p.l(),u.b(0),U.g(!1,!1),y.set("s46"),y.v("u6",1),c.U.l(),p.b(1),U.g(!1,!1));if(q)return C?(c.Bb.N(),c.U.b(0),y.set(v),y.Aa("u7",1/a.size,1/a.size),U.g(!1,!1),E=c.Bb):E=c.U,E.b(0),w&&(c.Va.l(),y.set("s21"),y.Aa("u12",g,r/g),U.g(!1,!1),E=c.Va,c.Va.b(0)),E;E=c.U;a.disableNormalize||(y.set("gpuRawAvg"===n?"s8":"s7"),y.v("u4",1/a.size),c.Cb.N(),c.U.b(0),U.g(!1,!1),E=c.Cb);switch(n){case "cpuRGBA2Float":E.Yb(!1);E=pa.Wd(E);
t(E);break;case "cpuMeanFloat":E.Yb(!0);E=E.Xd();t(E);break;case "gpuRawAvg":case "gpuRaw":E.b(0);case "none":t(E)}return!1},nd:function(E){E&&"undefined"!==typeof E.Gc&&(n=E.Gc,t=E.Ud);c.U=V.instance({isFloat:!0,isPot:!0,isMipmap:!1,width:a.size});E="undefined"!==typeof a.classesCount&&a.classesCount?a.classesCount:a.size*a.size;for(var l=0,M=0,J=0;l<E;++l)e.push(M+(a.size-1-J)*a.size),f.push([-1,-1,-1,-1]),++M,M===a.size&&(M=0,++J);a.disableNormalize||(c.Cb=V.instance({isFloat:!0,isPot:!0,width:a.size}))},
Wd:function(E){var l=E.Kc();e.forEach(function(M,J){f[J][0]=l[0][M];f[J][1]=l[1][M];f[J][2]=l[2][M];f[J][3]=l[3][M]});return f},h:function(){for(var E in c){var l=c[E];l&&l.remove()}ba&&(ba.h(),ba=null)}};a.Wa&&pa.ce(a.Wa);return pa}}}();Cb.Zb=function(a){a.forEach(function(c){c.ld&&V.Zb(c.ld.Vf);c.la&&V.Zb(c.la)})};var bc=function(){return{instance:function(a){var c=V.instance(a.weights);delete a.weights.data;return{oa:!0,Na:function(){return 1},h:function(){c.remove()},Fd:function(){return c},J:function(){y.set("s26");
c.b(1);U.g(!1,!1)}}}}}(),ec=function(){return{instance:function(a){var c=a.fromLayerSize,d=V.instance(a.weights);delete a.weights.data;return{oa:!0,Na:function(){return c},h:function(){d.remove()},J:function(e){if(e.isEnabled){y.set("s24");e.Pd.b(3);var f,n=Math.min(e.layers.length,e.depth);for(f=0;f<n;++f)e.layers[f].bd(4+f)}else y.set("s23");y.v("u16",a.toLayerSize);d.b(1);U.g(!1,!1)}}}}}(),cc=function(){return{instance:function(a){for(var c=a.fromLayerSize,d=a.toLayerSize,e=a.toSparsity,f=e*d,
n=f/c,t=c/d,q=0,g=0,w=0,B=Array(e*d*e*d*4),h=Array(e*d*e*d*4),A=Array(c*c),k=0;k<A.length;++k)A[k]=0;k=Math.floor(e/2);for(var I=.5/d,H=.5/c,C=.5/f,r=0;r<d;++r)for(var v=Math.round(r*t),F=0;F<d;++F){var L=Math.round(F*t),u=r/d,p=F/d;u+=I;p+=I;for(var D=0;D<e;++D){var O=v+D-k;0>O&&(O+=c);O>=c&&(O-=c);for(var ba=0;ba<e;++ba){var pa=q/f,E=g/f,l=L+ba-k;0>l&&(l+=c);l>=c&&(l-=c);var M=O/c,J=l/c;E=1-E-1/f;M+=H;J+=H;pa+=C;E+=C;var m=r*e+D,fa=F*e+ba;fa=d*e-fa-1;m=fa*d*e+m;B[4*m]=pa;B[4*m+1]=E;B[4*m+2]=M;B[4*
m+3]=J;J=A[l*c+O]++;m=J%n;M=O*n+m;l=l*n+(J-m)/n;l=c*n-1-l;l=l*c*n+M;h[4*l]=pa;h[4*l+1]=E;h[4*l+2]=u;h[4*l+3]=p;++q>=f&&(q=0,++g);++w}}}A=null;var ua=V.instance(a.weights);delete a.weights.data;var Ca=V.instance({width:f,isFloat:!0,array:new Float32Array(h),isPot:!0});h=null;var ra=V.instance({width:f,isFloat:!0,array:new Float32Array(B),isPot:!0});B=null;return{oa:!0,Na:function(){return n},h:function(){Ca.remove();ra.remove();ua.remove()},J:function(){y.set("s22");ua.b(1);ra.b(2);U.g(!1,!1)}}}}}(),
fc=function(){return{instance:function(a){var c=a.kernelsNumber,d=a.toSparsity,e=d*a.toLayerSize/a.fromLayerSize,f=V.instance(a.weights);delete a.weights.data;return{oa:!0,Na:function(){return e},sf:function(){return d},Fd:function(){return f},h:function(){f.remove()},J:function(){y.set("s25");y.v("u22",c);y.v("u23",d);y.v("u16",a.toLayerSize);y.v("u24",a.fromLayerSize);f.b(1);U.g(!1,!1)}}}}}(),dc=function(){return{instance:function(a,c){var d=a.fromLayerSize,e=a.toLayerSize,f=a.toSparsity,n=a.stride?
a.stride:1,t=f*e/d,q=e<d,g=d/e,w=V.instance(a.weights);delete a.weights.data;var B="s47"+[d.toString(),e.toString(),f.toString(),n.toString(),c].join("_");y.td(B)||(a=Zb.wd(c,"gl_FragColor","gl_FragColor"),e=[{type:"1f",name:"u16",value:e},{type:"1f",name:"u30",value:n}],q&&e.push({type:"1f",name:"u24",value:d}),d=[(q?t:f).toFixed(1),a],q&&d.push(g.toFixed(1)),y.rc(q?"s39":"s38",B,d),y.K(B,e.concat([{type:"1i",name:"u14",value:0},{type:"1i",name:"u21",value:1},{type:"1i",name:"u13",value:3}])));return{oa:!1,
Na:function(){return t},h:function(){w.remove()},J:function(){y.set(B);w.b(3);U.g(!1,!1)}}}}}(),ac=function(){return{instance:function(a){var c=a.Ac?a.Ac:3,d=a.sc?a.sc:64,e=a.Hc?a.Hc:64,f=a.Ld?!0:!1;a={isFloat:!1,width:d,isPot:!1,isFlipY:!1};var n=V.instance(a),t=V.instance(a),q=V.instance(a),g=V.instance(a),w=V.instance({isFloat:!0,width:e,isPot:!1,isFlipY:!1}),B=1/d;return{process:function(h){y.set("s35");g.l();U.g(f,!1);y.set("s36");for(var A=0;A<c;++A)n.l(),y.Aa("u7",B,0),U.g(f,!1),q.l(),g.b(0),
U.g(f,!1),t.l(),n.b(0),y.Aa("u7",0,B),U.g(f,!1),g.l(),q.b(0),U.g(f,!1),A!==c-1&&t.b(0);y.set("s37");w.l();h.b(0);t.b(1);g.b(2);U.g(f,!1);w.b(0)},pc:function(){return w}}}}}(),W={Ed:function(){return W.Vb()?document.createElement("video"):!1},wa:function(a,c){a[c]=!0;a.setAttribute(c,"true")},hd:function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(c)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a},Tb:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},xd:function(){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return 2<a.length?[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]:[0,0,0]},xc:function(){try{return window.matchMedia("(orientation: portrait)").matches?!0:!1}catch(a){return window.innerHeight>window.innerWidth}},gd:function(){return W.Ub()||W.Tb()},Ub:function(){var a=navigator.userAgent.toLowerCase();return-1!==
a.indexOf("safari")&&-1===a.indexOf("chrome")?!0:!1},Xe:function(){return W.hd()?W.xc()?window.innerHeight/window.innerWidth*45:45:45},Vb:function(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?!0:!1},pause:function(a){a.pause()},Jf:function(a){a.play()},release:function(a){a.pause();a.videoStream&&a.videoStream.stop();a.videoStream=null},kd:function(a){if(!a)return a;var c=!1;if(a.video){var d=function(e){var f={};"undefined"!==typeof e.min&&(f.min=e.min);"undefined"!==typeof e.max&&
(f.max=e.max);"undefined"!==typeof e.ideal&&(f.ideal=e.ideal);return f};c={};"undefined"!==typeof a.video.width&&(c.width=d(a.video.width));"undefined"!==typeof a.video.height&&(c.height=d(a.video.height));"undefined"!==typeof a.video.facingMode&&(c.facingMode=a.video.facingMode)}c={audio:a.audio,video:c};"undefined"!==typeof a.deviceId&&(c.deviceId=a.deviceId);return c},Pc:function(a){var c=a.video.width;a.video.width=a.video.height;a.video.height=c;return a},md:function(a){function c(h){return[480,
576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort(function(A,k){return Math.abs(A-h)-Math.abs(k-h)})}function d(h){var A=W.kd(a);e.push(h(A))}var e=[];if(!a||!a.video)return e;if(a.video.width&&a.video.height){if(a.video.width.ideal&&a.video.height.ideal){var f=c(a.video.width.ideal).slice(0,3),n=c(a.video.height.ideal).slice(0,3),t={},q=0;for(t.ca=void 0;q<f.length;t={ca:t.ca},++q){t.ca=f[q];var g={},w=0;for(g.ba=void 0;w<n.length;g={ba:g.ba},++w)if(g.ba=n[w],t.ca!==a.video.width.ideal||
g.ba!==a.video.height.ideal){var B=Math.max(t.ca,g.ba)/Math.min(t.ca,g.ba);B<4/3-.1||B>16/9+.1||d(function(h,A){return function(k){k.video.width.ideal=h.ca;k.video.height.ideal=A.ba;return k}}(t,g))}}}d(function(h){return W.Pc(h)})}a.video.width&&a.video.height&&(a.video.width.ideal&&a.video.height.ideal&&d(function(h){delete h.video.width.ideal;delete h.video.height.ideal;return h}),d(function(h){delete h.video.width;delete h.video.height;return h}));a.video.facingMode&&(d(function(h){delete h.video.facingMode;
return h}),a.video.width&&a.video.height&&d(function(h){W.Pc(h);delete h.video.facingMode;return h}));e.push({audio:a.audio,video:!0});return e},je:function(a){if(W.xc()){if(!a||!a.video)return!1;var c=a.video.width,d=a.video.height;if(!c||!d)return!1;if(c.ideal&&d.ideal&&c.ideal>d.ideal)return a.video.height=c,a.video.width=d,!0}return!1},Sa:function(a){a.volume=0;W.wa(a,"muted");if(W.Ub()){if(1===a.volume){var c=function(){a.volume=0;window.removeEventListener("mousemove",c,!1);window.removeEventListener("touchstart",
c,!1)};window.addEventListener("mousemove",c,!1);window.addEventListener("touchstart",c,!1)}setTimeout(function(){a.volume=0;W.wa(a,"muted")},5)}},Qc:function(a,c,d){return new Promise(function(e,f){if(a.srcObject&&a.srcObject.getVideoTracks){var n=a.srcObject.getVideoTracks();1!==n.length?f("INVALID_TRACKNUMBER"):(n=n[0],c?W.get(a,e,f,d):(n.stop(),e()))}else f("BAD_IMPLEMENTATION")})},qc:function(a,c,d,e){function f(t){n||(n=!0,d(t))}var n=!1;return navigator.mediaDevices.getUserMedia(e).then(function(t){function q(){setTimeout(function(){if(a.currentTime){var g=
a.videoWidth,w=a.videoHeight;if(0===g||0===w)f("VIDEO_NULLSIZE");else{g&&(a.style.width=g.toString()+"px");w&&(a.style.height=w.toString()+"px");g={fd:null,he:null,Qd:null};try{var B=t.getVideoTracks()[0];B&&(g.Qd=B,g.fd=B.getCapabilities(),g.he=B.getSettings())}catch(h){}W.gd()?a.parentNode&&null!==a.parentNode?(n||c(a,t,g),setTimeout(function(){a.play()},100)):(document.body.appendChild(a),W.Sa(a),n||c(a,t,g),setTimeout(function(){a.style.transform="scale(0.0001,0.0001)";a.style.position="fixed";
a.style.bottom="0px";a.style.right="0px";W.Sa(a);setTimeout(function(){a.play()},100)},80)):n||c(a,t,g)}}else f("VIDEO_NOTSTARTED")},700)}"undefined"!==typeof a.srcObject?a.srcObject=t:(a.src=window.URL.createObjectURL(t),a.videoStream=t);W.Sa(a);a.addEventListener("loadeddata",function(){var g=a.play();W.Sa(a);"undefined"===typeof g?q():g.then(function(){q()}).catch(function(){f("VIDEO_PLAYPROMISEREJECTED")})},!1)}).catch(function(t){f(t)})},get:function(a,c,d,e){if(!a)return d&&d("VIDEO_NOTPROVIDED"),
!1;if(!W.Vb())return d&&d("MEDIASTREAMAPI_NOTFOUND"),!1;if(e&&e.video){if(W.Tb()){var f=W.xd();(12>f[0]||12===f[0]&&2>f[1])&&W.je(e)}e.video.width&&e.video.width.ideal&&(a.style.width=e.video.width.ideal+"px");e.video.height&&e.video.height.ideal&&(a.style.height=e.video.height.ideal+"px")}W.wa(a,"autoplay");W.wa(a,"playsinline");e&&e.audio?a.volume=0:W.wa(a,"muted");W.qc(a,c,function(){function n(q){if(0===q.length)d("INVALID_FALLBACKCONSTRAINTS");else{var g=q.shift();W.qc(a,c,function(){n(q)},g)}}
var t=W.md(e);n(t)},e)},Dd:function(a){if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return a(!1,"NOTSUPPORTED"),!1;navigator.mediaDevices.enumerateDevices().then(function(c){(c=c.filter(function(d){return d.kind&&-1!==d.kind.toLowerCase().indexOf("video")&&d.label&&d.deviceId}))&&c.length&&0<c.length?a(c,!1):a(!1,"NODEVICESFOUND")}).catch(function(){a(!1,"PROMISEREJECTED")})},ze:function(a,c,d){var e={};e[c]=d;c=[];c.push(e);a.applyConstraints({advanced:c}).catch(function(){})}},
K={save:"NNC.json",Ob:0,Zc:25,cb:.2,ka:[45,55],te:1/3.5,Ea:[2,7],Yd:{minScale:.15,maxScale:.6,borderWidth:.2,borderHeight:.2,nStepsX:6,nStepsY:5,nStepsScale:3,nDetectsPerLoop:-1},ke:50,zc:.5,xb:.4,Rd:8,Tc:.8,Sc:1,ie:{translationFactorRange:[.0015,.005],rotationFactorRange:[.003,.02],qualityFactorRange:[.9,.98],alphaRange:[.05,1]},Da:[.65,1,.262],ia:[.092,.092,.3],Wc:.2,Yc:2,Xc:.1,Sd:8,Dc:1,ud:db.Ra.bind(null,.3,.7),qe:20,Nc:3},na={facingMode:"user",idealWidth:800,
idealHeight:600,minWidth:480,maxWidth:1280,minHeight:480,maxHeight:1280,rotate:0,flipX:!1},da={zb:-3,Od:-1,error:-2,play:1,pause:2},ka=da.zb,x=null,gc={vb:!1,element:null,$:null,aa:null,o:[0,0],C:[.5,.5],m:[.5,0,0,.5],Xa:0,ua:null,ub:!1},N=null,hc={ta:null,Ia:null,Lb:"./",pa:null,Y:null,Fa:K.Ob,Jc:K.Ob,Pa:!1,ma:!1},Aa=null,Z=null,ta=null;var wb=Qa=mb=lb=kb=jb=bb=ab=$a=0;var Ta=1;var xb=Pa=Za=Ya=Oa=Na=0;var Sa={Fb:-1,fb:-1},Y=null,ic={O:0,R:0,o:[0,0],ya:null},X={Ca:null,buffer:null,ia:null,Da:null,
T:K.Dc,xa:null},Wa=null,oa=null,cb=null,Ra=null,G={i:1,ea:0,L:null,vc:!1,yc:0,Ab:0},T={va:0,timestamp:0,Bc:0,Cc:0,F:K.Ea[0],yb:K.Ea[0],Ec:0,na:0,Ee:1},sb=[],tb=[],Nb={VERSION:"1.3.1",init:function(a){function c(){ka!==da.error&&2===++e&&(Ja(),Jb(),Ia(),N.ta&&(N.ta(!1,{GL:b,canvasElement:N.Y,videoTexture:x.aa.get(),maxFacesDetected:G.i,videoElement:x.element}),qb()),pb())}if(ka!==da.zb)return a.callbackReady&&a.callbackReady("ALREADY_INITIALIZED"),!1;ka=da.Od;x=Object.assign({},gc);N=Object.assign({},
hc);Y=Object.assign({},ic);G.L=[0];X.ia=K.ia.slice(0);X.Da=K.Da.slice(0);a.callbackReady&&(N.ta=a.callbackReady);a.callbackTrack&&(N.Ia=a.callbackTrack);a.nExpressions&&(X.T=a.nExpressions);a.expressionsEasings&&(X.xa=a.expressionsEasings);"undefined"!==typeof a.animateDelay&&(N.Fa=a.animateDelay);"undefined"!==typeof a.NNCpath&&(N.Lb=a.NNCpath);"undefined"!==typeof a.NNC&&(N.pa=a.NNC);"undefined"!==typeof a.maxFacesDetected&&(G.i=Math.max(1,a.maxFacesDetected));"undefined"!==typeof a.followZRot&&
(N.ma=a.followZRot?!0:!1);if(G.i>K.Rd)return Ha("MAXFACES_TOOHIGH"),!1;if(!a.canvasId&&!a.canvas)return Ha("NO_CANVASID"),!1;N.Y=a.canvas?a.canvas:document.getElementById(a.canvasId);if(!N.Y)return Ha("INVALID_CANVASID"),!1;Y.O=N.Y.width;Y.R=N.Y.height;if(!Y.O||!Y.R)return Ha("INVALID_CANVASDIMENSIONS"),!1;for(var d=0;d<G.i;++d)sb.push(new Float32Array(K.Sd)),tb.push(0);Z=Object.create(K.Yd);a.scanSettings&&(Object.assign(Z,a.scanSettings),-1!==Z.nDetectsPerLoop&&(T.F=Z.nDetectsPerLoop,T.yb=Z.nDetectsPerLoop));
ta=Object.create(K.ie);a.stabilizationSettings&&Object.assign(ta,a.stabilizationSettings);var e=0;a.videoSettings&&a.videoSettings.videoElement?eb(a.videoSettings.videoElement,c):(a.videoSettings&&Object.assign(na,a.videoSettings),Kb(a.onWebcamAsk,a.onWebcamGet,function(f){eb(f,c)}));Vb(function(f){if(!Wb())return!1;Aa=new Cb({});Aa.$d(f.layers);Aa.be({Gc:"gpuRawAvg",Ud:Yb});y.Vc([{id:"s50",name:"_",ja:"attribute vec2 a0;uniform mat2 u32;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=vec2(.5,.5)+u32*a0*vec2(1.,-1.);}",
Ga:["a0"],ra:[2],a:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:["u1","u32"],precision:"lowp"},{id:"s51",name:"_",a:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",ja:"attribute vec2 a0;uniform sampler2D u33;uniform vec2 u34;uniform float u35,u36,u37;varying vec2 vv0;void main(){vec4 a=texture2D(u33,vec2(.17,u35));vec2 f=a.gb,g=a.a*u34,b=a0;b.x*=u37;float c=cos(u36),d=sin(u36);vec2 h=mat2(c,d,-d,c)*b;vv0=f+h*.5*g,gl_Position=vec4(a0,0.,1.);}",
Ga:["a0"],ra:[2],c:"u1 u33 u34 u35 u36 u37".split(" "),precision:"lowp"},{id:"s52",name:"_",a:"uniform sampler2D u38,u33;uniform vec3 u39,u40;uniform float u41,u42,u43,u35,u44,u36,u45;const vec4 e=vec4(.25,.25,.25,.25);void main(){vec4 f=texture2D(u38,vec2(.625,.625)),g=texture2D(u38,vec2(.875,.625)),a=texture2D(u33,vec2(.17,u35));float b=dot(f,e),h=dot(g,e);bool i=b>u42&&b>h+u43;i?a.r=2.:a.r>u41?a.r=0.:a.r>1.9?a.r+=1.:0.,a.r*=u44;if(a.r<.9)a=vec4(1.,u39);else{a.r*=step(1.9,a.r);float j=dot(e,texture2D(u38,vec2(.875,.875))),k=dot(e,texture2D(u38,vec2(.125,.625))),l=dot(e,texture2D(u38,vec2(.375,.625))),c=cos(u36),d=sin(u36);vec2 m=mat2(c,d*u45,-d/u45,c)*vec2(j,k);a.gba+=vec3(m,l)*u40*a.a;}gl_FragColor=a;}",
ja:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",c:"u38 u33 u39 u41 u40 u44 u36 u45 u42 u43 u35".split(" ")},{id:"s53",name:"_",ja:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",a:"uniform sampler2D u38;const vec4 e=vec4(.25,.25,.25,.25);const vec3 f=vec3(.5,.5,.5);void main(){float a=dot(e,texture2D(u38,vec2(.125,.875))),b=dot(e,texture2D(u38,vec2(.375,.875))),c=dot(e,texture2D(u38,vec2(.625,.875))),d=dot(e,texture2D(u38,vec2(.625,.625)));vec3 g=vec3(a,b,c)*.5+f;gl_FragColor=vec4(g,d);}",
c:["u38"]},{id:"s54",name:"_",ja:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",a:"uniform sampler2D u38;const vec4 e=vec4(.25,.25,.25,.25);void main(){float a=dot(e,texture2D(u38,vec2(.375,.375))),b=dot(e,texture2D(u38,vec2(.625,.375))),c=dot(e,texture2D(u38,vec2(.875,.375))),d=dot(e,texture2D(u38,vec2(.125,.125)));gl_FragColor=vec4(a,b,c,d);}",c:["u38"]},{id:"s49",name:"_",a:"uniform sampler2D u33;uniform vec2 u46;uniform float u47;varying vec2 vv0;void main(){float f=step(.5,mod(gl_FragCoord.y+1.5,2.)),c=step(.33,vv0.x);vec4 a=texture2D(u33,vv0+u46);a.a=mix(a.a*u47,a.a,c);vec4 d=floor(255.*a),g=255.*(255.*a-d),b=mix(d,g,f)/255.;b.x=mix(step(a.x,1.5),b.x,c),gl_FragColor=b;}",
c:["u33","u47","u46"]}]);Fb();Ub();vb();ub();c()});return!0},destroy:function(){return new Promise(function(a,c){Nb.toggle_pause(!0,!0).catch(function(){c()}).then(function(){Aa&&Aa.h();Ua.h();Aa=oa=Wa=null;sb.splice(0);tb.splice(0);ka=da.zb;a()})})},toggle_pause:function(a,c){if(!ob())return Promise.reject();var d=null;d=c?W.Qc(x.element,!a,x.ua):Promise.resolve();a?Eb():d.then(function(){pb()});return d},update_videoSettings:function(a){Eb();return new Promise(function(c){W.Qc(x.element,!1,x.ua).then(function(){Object.assign(na,
a);Kb(null,null,function(d){eb(d,function(){Ja();Ia();pb();c()})})})})},toggle_slow:function(a){ob()&&ka===da.play&&(a&&!N.Pa?(N.Jc=N.Fa,Z.nDetectsPerLoop=1,this.set_animateDelay(100),N.Pa=!0):!a&&N.Pa&&(Z.nDetectsPerLoop=-1,this.set_animateDelay(N.Jc),N.Pa=!1))},set_animateDelay:function(a){N.Fa=a},resize:function(){var a=N.Y.width,c=N.Y.height;if(!yb()&&a===Y.O&&c===Y.R)return!1;Y.O=a;Y.R=c;vb();ub();Ja();Ia();x.aa&&x.aa.resize(Y.O,Y.R);return!0},set_inputTexture:function(a,c,d){x.o[0]=c;x.o[1]=
d;x.vb=!0;Ja();qb();Ia();y.set("s50");x.aa.N();b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,a);U.g(!0,!0)},reset_GLState:function(){qb();Y.ya.remove();X.Ca.remove();Fb()},reset_inputTexture:function(){yb();x.vb=!1;Ja();Ia()},get_videoDevices:function(a){return W.Dd(a)},set_scanSettings:function(a){Object.assign(Z,a);-1!==Z.nDetectsPerLoop&&(T.F=Z.nDetectsPerLoop,T.yb=Z.nDetectsPerLoop);vb();ub()},set_stabilizationSettings:function(a){Object.assign(ta,a)},set_videoOrientation:function(a,
c){ob()&&(na.flipX=c,na.rotate=a,Ja(),Ia())},update_videoElement:function(a,c){eb(a?a:x.element,function(){Jb();Ja();Ia();c&&c()})}};return Nb};window.JEEFACEFILTERAPI=window.JEEFACEFILTERAPIGEN();
;if(typeof(module)!=='undefined'){module.exports=window.JEEFACEFILTERAPI;}